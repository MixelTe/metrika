{"version":3,"file":"static/js/598.1b0abb03.chunk.js","mappings":";gLACe,SAASA,IAEtBA,EAAsB,WACpB,OAAOC,CACT,EACA,IAAIC,EACFD,EAAI,CAAC,EACLE,EAAIC,OAAOC,UACXC,EAAIH,EAAEI,eACNC,EAAIJ,OAAOK,gBAAkB,SAAUP,EAAGD,EAAGE,GAC3CD,EAAED,GAAKE,EAAEO,KACX,EACAC,EAAI,mBAAqBC,OAASA,OAAS,CAAC,EAC5CC,EAAIF,EAAEG,UAAY,aAClBC,EAAIJ,EAAEK,eAAiB,kBACvBC,EAAIN,EAAEO,aAAe,gBACvB,SAASC,EAAOjB,EAAGD,EAAGE,GACpB,OAAOC,OAAOK,eAAeP,EAAGD,EAAG,CACjCS,MAAOP,EACPiB,YAAY,EACZC,cAAc,EACdC,UAAU,IACRpB,EAAED,EACR,CACA,IACEkB,EAAO,CAAC,EAAG,GACb,CAAE,MAAOjB,GACPiB,EAAS,SAAgBjB,EAAGD,EAAGE,GAC7B,OAAOD,EAAED,GAAKE,CAChB,CACF,CACA,SAASoB,EAAKrB,EAAGD,EAAGE,EAAGG,GACrB,IAAIK,EAAIV,GAAKA,EAAEI,qBAAqBmB,EAAYvB,EAAIuB,EAClDX,EAAIT,OAAOqB,OAAOd,EAAEN,WACpBU,EAAI,IAAIW,EAAQpB,GAAK,IACvB,OAAOE,EAAEK,EAAG,UAAW,CACrBH,MAAOiB,EAAiBzB,EAAGC,EAAGY,KAC5BF,CACN,CACA,SAASe,EAAS1B,EAAGD,EAAGE,GACtB,IACE,MAAO,CACL0B,KAAM,SACNC,IAAK5B,EAAE6B,KAAK9B,EAAGE,GAEnB,CAAE,MAAOD,GACP,MAAO,CACL2B,KAAM,QACNC,IAAK5B,EAET,CACF,CACAD,EAAEsB,KAAOA,EACT,IAAIS,EAAI,iBACNC,EAAI,iBACJC,EAAI,YACJC,EAAI,YACJC,EAAI,CAAC,EACP,SAASZ,IAAa,CACtB,SAASa,IAAqB,CAC9B,SAASC,IAA8B,CACvC,IAAIC,EAAI,CAAC,EACTpB,EAAOoB,EAAG1B,GAAG,WACX,OAAO2B,IACT,IACA,IAAIC,EAAIrC,OAAOsC,eACbC,EAAIF,GAAKA,EAAEA,EAAEG,EAAO,MACtBD,GAAKA,IAAMxC,GAAKG,EAAEyB,KAAKY,EAAG9B,KAAO0B,EAAII,GACrC,IAAIE,EAAIP,EAA2BjC,UAAYmB,EAAUnB,UAAYD,OAAOqB,OAAOc,GACnF,SAASO,EAAsB5C,GAC7B,CAAC,OAAQ,QAAS,UAAU6C,SAAQ,SAAU9C,GAC5CkB,EAAOjB,EAAGD,GAAG,SAAUC,GACrB,OAAOsC,KAAKQ,QAAQ/C,EAAGC,EACzB,GACF,GACF,CACA,SAAS+C,EAAc/C,EAAGD,GACxB,SAASiD,EAAO/C,EAAGK,EAAGG,EAAGE,GACvB,IAAIE,EAAIa,EAAS1B,EAAEC,GAAID,EAAGM,GAC1B,GAAI,UAAYO,EAAEc,KAAM,CACtB,IAAIZ,EAAIF,EAAEe,IACRE,EAAIf,EAAEP,MACR,OAAOsB,GAAK,WAAY,OAAQA,IAAM1B,EAAEyB,KAAKC,EAAG,WAAa/B,EAAEkD,QAAQnB,EAAEoB,SAASC,MAAK,SAAUnD,GAC/FgD,EAAO,OAAQhD,EAAGS,EAAGE,EACvB,IAAG,SAAUX,GACXgD,EAAO,QAAShD,EAAGS,EAAGE,EACxB,IAAKZ,EAAEkD,QAAQnB,GAAGqB,MAAK,SAAUnD,GAC/Be,EAAEP,MAAQR,EAAGS,EAAEM,EACjB,IAAG,SAAUf,GACX,OAAOgD,EAAO,QAAShD,EAAGS,EAAGE,EAC/B,GACF,CACAA,EAAEE,EAAEe,IACN,CACA,IAAI3B,EACJK,EAAEgC,KAAM,UAAW,CACjB9B,MAAO,SAAeR,EAAGI,GACvB,SAASgD,IACP,OAAO,IAAIrD,GAAE,SAAUA,EAAGE,GACxB+C,EAAOhD,EAAGI,EAAGL,EAAGE,EAClB,GACF,CACA,OAAOA,EAAIA,EAAIA,EAAEkD,KAAKC,EAA4BA,GAA8BA,GAClF,GAEJ,CACA,SAAS3B,EAAiB1B,EAAGE,EAAGG,GAC9B,IAAIE,EAAIwB,EACR,OAAO,SAAUrB,EAAGE,GAClB,GAAIL,IAAM0B,EAAG,MAAM,IAAIqB,MAAM,gCAC7B,GAAI/C,IAAM2B,EAAG,CACX,GAAI,UAAYxB,EAAG,MAAME,EACzB,MAAO,CACLH,MAAOR,EACPsD,MAAM,EAEV,CACA,IAAKlD,EAAEmD,OAAS9C,EAAGL,EAAEwB,IAAMjB,IAAK,CAC9B,IAAIE,EAAIT,EAAEoD,SACV,GAAI3C,EAAG,CACL,IAAIE,EAAI0C,EAAoB5C,EAAGT,GAC/B,GAAIW,EAAG,CACL,GAAIA,IAAMmB,EAAG,SACb,OAAOnB,CACT,CACF,CACA,GAAI,SAAWX,EAAEmD,OAAQnD,EAAEsD,KAAOtD,EAAEuD,MAAQvD,EAAEwB,SAAS,GAAI,UAAYxB,EAAEmD,OAAQ,CAC/E,GAAIjD,IAAMwB,EAAG,MAAMxB,EAAI2B,EAAG7B,EAAEwB,IAC5BxB,EAAEwD,kBAAkBxD,EAAEwB,IACxB,KAAO,WAAaxB,EAAEmD,QAAUnD,EAAEyD,OAAO,SAAUzD,EAAEwB,KACrDtB,EAAI0B,EACJ,IAAIK,EAAIX,EAAS3B,EAAGE,EAAGG,GACvB,GAAI,WAAaiC,EAAEV,KAAM,CACvB,GAAIrB,EAAIF,EAAEkD,KAAOrB,EAAIF,EAAGM,EAAET,MAAQM,EAAG,SACrC,MAAO,CACL1B,MAAO6B,EAAET,IACT0B,KAAMlD,EAAEkD,KAEZ,CACA,UAAYjB,EAAEV,OAASrB,EAAI2B,EAAG7B,EAAEmD,OAAS,QAASnD,EAAEwB,IAAMS,EAAET,IAC9D,CACF,CACF,CACA,SAAS6B,EAAoB1D,EAAGE,GAC9B,IAAIG,EAAIH,EAAEsD,OACRjD,EAAIP,EAAEa,SAASR,GACjB,GAAIE,IAAMN,EAAG,OAAOC,EAAEuD,SAAW,KAAM,UAAYpD,GAAKL,EAAEa,SAAiB,SAAMX,EAAEsD,OAAS,SAAUtD,EAAE2B,IAAM5B,EAAGyD,EAAoB1D,EAAGE,GAAI,UAAYA,EAAEsD,SAAW,WAAanD,IAAMH,EAAEsD,OAAS,QAAStD,EAAE2B,IAAM,IAAIkC,UAAU,oCAAsC1D,EAAI,aAAc8B,EAC1R,IAAIzB,EAAIiB,EAASpB,EAAGP,EAAEa,SAAUX,EAAE2B,KAClC,GAAI,UAAYnB,EAAEkB,KAAM,OAAO1B,EAAEsD,OAAS,QAAStD,EAAE2B,IAAMnB,EAAEmB,IAAK3B,EAAEuD,SAAW,KAAMtB,EACrF,IAAIvB,EAAIF,EAAEmB,IACV,OAAOjB,EAAIA,EAAE2C,MAAQrD,EAAEF,EAAEgE,YAAcpD,EAAEH,MAAOP,EAAE+D,KAAOjE,EAAEkE,QAAS,WAAahE,EAAEsD,SAAWtD,EAAEsD,OAAS,OAAQtD,EAAE2B,IAAM5B,GAAIC,EAAEuD,SAAW,KAAMtB,GAAKvB,GAAKV,EAAEsD,OAAS,QAAStD,EAAE2B,IAAM,IAAIkC,UAAU,oCAAqC7D,EAAEuD,SAAW,KAAMtB,EAC9P,CACA,SAASgC,EAAalE,GACpB,IAAID,EAAI,CACNoE,OAAQnE,EAAE,IAEZ,KAAKA,IAAMD,EAAEqE,SAAWpE,EAAE,IAAK,KAAKA,IAAMD,EAAEsE,WAAarE,EAAE,GAAID,EAAEuE,SAAWtE,EAAE,IAAKsC,KAAKiC,WAAWC,KAAKzE,EAC1G,CACA,SAAS0E,EAAczE,GACrB,IAAID,EAAIC,EAAE0E,YAAc,CAAC,EACzB3E,EAAE4B,KAAO,gBAAiB5B,EAAE6B,IAAK5B,EAAE0E,WAAa3E,CAClD,CACA,SAASyB,EAAQxB,GACfsC,KAAKiC,WAAa,CAAC,CACjBJ,OAAQ,SACNnE,EAAE6C,QAAQqB,EAAc5B,MAAOA,KAAKqC,OAAM,EAChD,CACA,SAASjC,EAAO3C,GACd,GAAIA,GAAK,KAAOA,EAAG,CACjB,IAAIE,EAAIF,EAAEY,GACV,GAAIV,EAAG,OAAOA,EAAE4B,KAAK9B,GACrB,GAAI,mBAAqBA,EAAEiE,KAAM,OAAOjE,EACxC,IAAK6E,MAAM7E,EAAE8E,QAAS,CACpB,IAAIvE,GAAK,EACPG,EAAI,SAASuD,IACX,OAAS1D,EAAIP,EAAE8E,QAAS,GAAIzE,EAAEyB,KAAK9B,EAAGO,GAAI,OAAO0D,EAAKxD,MAAQT,EAAEO,GAAI0D,EAAKV,MAAO,EAAIU,EACpF,OAAOA,EAAKxD,MAAQR,EAAGgE,EAAKV,MAAO,EAAIU,CACzC,EACF,OAAOvD,EAAEuD,KAAOvD,CAClB,CACF,CACA,MAAM,IAAIqD,WAAU,OAAQ/D,GAAK,mBACnC,CACA,OAAOoC,EAAkBhC,UAAYiC,EAA4B9B,EAAEqC,EAAG,cAAe,CACnFnC,MAAO4B,EACPjB,cAAc,IACZb,EAAE8B,EAA4B,cAAe,CAC/C5B,MAAO2B,EACPhB,cAAc,IACZgB,EAAkB2C,YAAc7D,EAAOmB,EAA4BrB,EAAG,qBAAsBhB,EAAEgF,oBAAsB,SAAU/E,GAChI,IAAID,EAAI,mBAAqBC,GAAKA,EAAEgF,YACpC,QAASjF,IAAMA,IAAMoC,GAAqB,uBAAyBpC,EAAE+E,aAAe/E,EAAEkF,MACxF,EAAGlF,EAAEmF,KAAO,SAAUlF,GACpB,OAAOE,OAAOiF,eAAiBjF,OAAOiF,eAAenF,EAAGoC,IAA+BpC,EAAEoF,UAAYhD,EAA4BnB,EAAOjB,EAAGe,EAAG,sBAAuBf,EAAEG,UAAYD,OAAOqB,OAAOoB,GAAI3C,CACvM,EAAGD,EAAEsF,MAAQ,SAAUrF,GACrB,MAAO,CACLkD,QAASlD,EAEb,EAAG4C,EAAsBG,EAAc5C,WAAYc,EAAO8B,EAAc5C,UAAWU,GAAG,WACpF,OAAOyB,IACT,IAAIvC,EAAEgD,cAAgBA,EAAehD,EAAEuF,MAAQ,SAAUtF,EAAGC,EAAGG,EAAGE,EAAGG,QACnE,IAAWA,IAAMA,EAAI8E,SACrB,IAAI5E,EAAI,IAAIoC,EAAc1B,EAAKrB,EAAGC,EAAGG,EAAGE,GAAIG,GAC5C,OAAOV,EAAEgF,oBAAoB9E,GAAKU,EAAIA,EAAEqD,OAAOb,MAAK,SAAUnD,GAC5D,OAAOA,EAAEsD,KAAOtD,EAAEQ,MAAQG,EAAEqD,MAC9B,GACF,EAAGpB,EAAsBD,GAAI1B,EAAO0B,EAAG5B,EAAG,aAAcE,EAAO0B,EAAGhC,GAAG,WACnE,OAAO2B,IACT,IAAIrB,EAAO0B,EAAG,YAAY,WACxB,MAAO,oBACT,IAAI5C,EAAEyF,KAAO,SAAUxF,GACrB,IAAID,EAAIG,OAAOF,GACbC,EAAI,GACN,IAAK,IAAIG,KAAKL,EAAGE,EAAEuE,KAAKpE,GACxB,OAAOH,EAAEwF,UAAW,SAASzB,IAC3B,KAAO/D,EAAE4E,QAAS,CAChB,IAAI7E,EAAIC,EAAEyF,MACV,GAAI1F,KAAKD,EAAG,OAAOiE,EAAKxD,MAAQR,EAAGgE,EAAKV,MAAO,EAAIU,CACrD,CACA,OAAOA,EAAKV,MAAO,EAAIU,CACzB,CACF,EAAGjE,EAAE2C,OAASA,EAAQlB,EAAQrB,UAAY,CACxC6E,YAAaxD,EACbmD,MAAO,SAAe5E,GACpB,GAAIuC,KAAKqD,KAAO,EAAGrD,KAAK0B,KAAO,EAAG1B,KAAKoB,KAAOpB,KAAKqB,MAAQ3D,EAAGsC,KAAKgB,MAAO,EAAIhB,KAAKkB,SAAW,KAAMlB,KAAKiB,OAAS,OAAQjB,KAAKV,IAAM5B,EAAGsC,KAAKiC,WAAW1B,QAAQ4B,IAAiB1E,EAAG,IAAK,IAAIE,KAAKqC,KAAM,MAAQrC,EAAE2F,OAAO,IAAMxF,EAAEyB,KAAKS,KAAMrC,KAAO2E,OAAO3E,EAAE4F,MAAM,MAAQvD,KAAKrC,GAAKD,EACtR,EACA8F,KAAM,WACJxD,KAAKgB,MAAO,EACZ,IAAItD,EAAIsC,KAAKiC,WAAW,GAAGG,WAC3B,GAAI,UAAY1E,EAAE2B,KAAM,MAAM3B,EAAE4B,IAChC,OAAOU,KAAKyD,IACd,EACAnC,kBAAmB,SAA2B7D,GAC5C,GAAIuC,KAAKgB,KAAM,MAAMvD,EACrB,IAAIE,EAAIqC,KACR,SAAS0D,EAAO5F,EAAGE,GACjB,OAAOK,EAAEgB,KAAO,QAAShB,EAAEiB,IAAM7B,EAAGE,EAAE+D,KAAO5D,EAAGE,IAAML,EAAEsD,OAAS,OAAQtD,EAAE2B,IAAM5B,KAAMM,CACzF,CACA,IAAK,IAAIA,EAAIgC,KAAKiC,WAAWM,OAAS,EAAGvE,GAAK,IAAKA,EAAG,CACpD,IAAIG,EAAI6B,KAAKiC,WAAWjE,GACtBK,EAAIF,EAAEiE,WACR,GAAI,SAAWjE,EAAE0D,OAAQ,OAAO6B,EAAO,OACvC,GAAIvF,EAAE0D,QAAU7B,KAAKqD,KAAM,CACzB,IAAI9E,EAAIT,EAAEyB,KAAKpB,EAAG,YAChBM,EAAIX,EAAEyB,KAAKpB,EAAG,cAChB,GAAII,GAAKE,EAAG,CACV,GAAIuB,KAAKqD,KAAOlF,EAAE2D,SAAU,OAAO4B,EAAOvF,EAAE2D,UAAU,GACtD,GAAI9B,KAAKqD,KAAOlF,EAAE4D,WAAY,OAAO2B,EAAOvF,EAAE4D,WAChD,MAAO,GAAIxD,GACT,GAAIyB,KAAKqD,KAAOlF,EAAE2D,SAAU,OAAO4B,EAAOvF,EAAE2D,UAAU,OACjD,CACL,IAAKrD,EAAG,MAAM,IAAIsC,MAAM,0CACxB,GAAIf,KAAKqD,KAAOlF,EAAE4D,WAAY,OAAO2B,EAAOvF,EAAE4D,WAChD,CACF,CACF,CACF,EACAR,OAAQ,SAAgB7D,EAAGD,GACzB,IAAK,IAAIE,EAAIqC,KAAKiC,WAAWM,OAAS,EAAG5E,GAAK,IAAKA,EAAG,CACpD,IAAIK,EAAIgC,KAAKiC,WAAWtE,GACxB,GAAIK,EAAE6D,QAAU7B,KAAKqD,MAAQvF,EAAEyB,KAAKvB,EAAG,eAAiBgC,KAAKqD,KAAOrF,EAAE+D,WAAY,CAChF,IAAI5D,EAAIH,EACR,KACF,CACF,CACAG,IAAM,UAAYT,GAAK,aAAeA,IAAMS,EAAE0D,QAAUpE,GAAKA,GAAKU,EAAE4D,aAAe5D,EAAI,MACvF,IAAIE,EAAIF,EAAIA,EAAEiE,WAAa,CAAC,EAC5B,OAAO/D,EAAEgB,KAAO3B,EAAGW,EAAEiB,IAAM7B,EAAGU,GAAK6B,KAAKiB,OAAS,OAAQjB,KAAK0B,KAAOvD,EAAE4D,WAAYnC,GAAKI,KAAK2D,SAAStF,EACxG,EACAsF,SAAU,SAAkBjG,EAAGD,GAC7B,GAAI,UAAYC,EAAE2B,KAAM,MAAM3B,EAAE4B,IAChC,MAAO,UAAY5B,EAAE2B,MAAQ,aAAe3B,EAAE2B,KAAOW,KAAK0B,KAAOhE,EAAE4B,IAAM,WAAa5B,EAAE2B,MAAQW,KAAKyD,KAAOzD,KAAKV,IAAM5B,EAAE4B,IAAKU,KAAKiB,OAAS,SAAUjB,KAAK0B,KAAO,OAAS,WAAahE,EAAE2B,MAAQ5B,IAAMuC,KAAK0B,KAAOjE,GAAImC,CAC1N,EACAgE,OAAQ,SAAgBlG,GACtB,IAAK,IAAID,EAAIuC,KAAKiC,WAAWM,OAAS,EAAG9E,GAAK,IAAKA,EAAG,CACpD,IAAIE,EAAIqC,KAAKiC,WAAWxE,GACxB,GAAIE,EAAEoE,aAAerE,EAAG,OAAOsC,KAAK2D,SAAShG,EAAEyE,WAAYzE,EAAEqE,UAAWG,EAAcxE,GAAIiC,CAC5F,CACF,EACA,MAAS,SAAgBlC,GACvB,IAAK,IAAID,EAAIuC,KAAKiC,WAAWM,OAAS,EAAG9E,GAAK,IAAKA,EAAG,CACpD,IAAIE,EAAIqC,KAAKiC,WAAWxE,GACxB,GAAIE,EAAEkE,SAAWnE,EAAG,CAClB,IAAII,EAAIH,EAAEyE,WACV,GAAI,UAAYtE,EAAEuB,KAAM,CACtB,IAAIrB,EAAIF,EAAEwB,IACV6C,EAAcxE,EAChB,CACA,OAAOK,CACT,CACF,CACA,MAAM,IAAI+C,MAAM,wBAClB,EACA8C,cAAe,SAAuBpG,EAAGE,EAAGG,GAC1C,OAAOkC,KAAKkB,SAAW,CACrB5C,SAAU8B,EAAO3C,GACjBgE,WAAY9D,EACZgE,QAAS7D,GACR,SAAWkC,KAAKiB,SAAWjB,KAAKV,IAAM5B,GAAIkC,CAC/C,GACCnC,CACL,CC9SA,SAASqG,EAAmBC,EAAKpD,EAASqD,EAAQC,EAAOC,EAAQC,EAAK7E,GACpE,IACE,IAAI8E,EAAOL,EAAII,GAAK7E,GAChBpB,EAAQkG,EAAKlG,KACnB,CAAE,MAAOmG,GAEP,YADAL,EAAOK,EAET,CACID,EAAKpD,KACPL,EAAQzC,GAER+E,QAAQtC,QAAQzC,GAAO2C,KAAKoD,EAAOC,EAEvC,CACe,SAASI,EAAkBC,GACxC,OAAO,WACL,IAAIC,EAAOxE,KACTyE,EAAOC,UACT,OAAO,IAAIzB,SAAQ,SAAUtC,EAASqD,GACpC,IAAID,EAAMQ,EAAGI,MAAMH,EAAMC,GACzB,SAASR,EAAM/F,GACb4F,EAAmBC,EAAKpD,EAASqD,EAAQC,EAAOC,EAAQ,OAAQhG,EAClE,CACA,SAASgG,EAAOU,GACdd,EAAmBC,EAAKpD,EAASqD,EAAQC,EAAOC,EAAQ,QAASU,EACnE,CACAX,OAAMY,EACR,GACF,CACF,cC1Be,SAASC,IAEvB,OAAOC,EAAAA,EAAAA,UAAS,OAAQC,EACzB,CAAC,SAWcA,IAAO,OAAAC,EAAAN,MAAC,KAADD,UAAA,UAAAO,IAWrB,OAXqBA,EAAAX,EAAA9G,IAAAoF,MAAtB,SAAAsC,IAAA,IAAAC,EAAAC,EAAAC,EAAA,OAAA7H,IAAAuB,MAAA,SAAAuG,GAAA,cAAAA,EAAAjC,KAAAiC,EAAA5D,MAAA,cAAA4D,EAAA5D,KAAA,EAEmB6D,MAAM,aAAa,KAAD,EAA3B,OAAHJ,EAAGG,EAAAlE,KAAAkE,EAAA5D,KAAA,EACUyD,EAAIK,OAAO,KAAD,EAAnB,GAAJJ,EAAIE,EAAAlE,KAEQ,KAAd+D,EAAIM,OAAa,CAAAH,EAAA5D,KAAA,eAAA4D,EAAA/D,OAAA,SAAS,CAAEmE,MAAM,EAAOC,IAAK,EAAGC,MAAO,GAAIjD,KAAM,GAAIkD,WAAY,KAAI,UACrFV,EAAIW,GAAG,CAADR,EAAA5D,KAAA,eAAS0D,EAAqBW,IAAI,KAAD,GAG3B,OADXV,EAAOD,GACRM,MAAO,EAAKJ,EAAA/D,OAAA,SACV8D,GAAI,yBAAAC,EAAA9B,OAAA,GAAA0B,EAAA,MACXP,MAAA,KAAAD,UAAA,CCfc,SAASsB,EAAcX,EAAqCY,GAC1E,IAADC,EAAAC,EACC,QAAmB,QAATD,EAAAb,EAAKD,YAAI,IAAAc,IAATA,EAAWR,MAAiB,QAAbS,EAAId,EAAKD,YAAI,IAAAe,IAATA,EAAWN,WAAWO,SAASC,EAAkBJ,IAC/E,CAEO,SAASK,EAAiBL,GAChC,IAADM,EAAAC,EACOnB,EAAOP,IACb,QAAmB,QAATyB,EAAAlB,EAAKD,YAAI,IAAAmB,IAATA,EAAWb,MAAiB,QAAbc,EAAInB,EAAKD,YAAI,IAAAoB,IAATA,EAAWX,WAAWO,SAASC,EAAkBJ,IAC/E,CAEA,SAASI,EAAkBJ,GAE1B,MAAwB,iBAAbA,EACHA,EACDA,EAAU,GAAK,IAAMA,EAAU,EACvC,uBC1Be,SAASQ,IAEvB,IAAQC,GAAaC,EAAAA,EAAAA,MAAbD,SAOR,OALAE,EAAAA,EAAAA,YAAU,WAETC,OAAOC,SAAS,EAAG,EACpB,GAAG,CAACJ,IAEG,IACR,CCZA,OAAgB,KAAO,+BCER,SAASK,IAEvB,IAAMC,GAAWC,EAAAA,EAAAA,MACjB,OACCC,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAOC,KAAKC,UAC3BJ,EAAAA,EAAAA,KAAA,UAAQK,QAAS,kBAAMP,GAAU,EAAE,EAACM,SAAC,oCAKxC,CCbe,SAASE,IACvB,IAAD,IAAAC,EAAA/C,UAAAnC,OADsCmF,EAAK,IAAAC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAALF,EAAKE,GAAAlD,UAAAkD,GAE1C,OAAOF,EAAMG,QAAO,SAAA1H,GAAC,QAAMA,CAAC,IAAE2H,KAAK,IACpC,aCFA,GAAgB,KAAO,qBAAqB,KAAO,qBAAqB,MAAQ,szLCDjE,SAASC,EAAUC,EAA0BC,GAE3D,OAAO1C,MAAMyC,EAAO,CACnB/G,OAAQ,OACRiH,QAAS,CACR,eAAgB,oBAEjBD,UAAepD,IAAToD,EAAqB,KAAOE,KAAKC,UAAUH,IAEnD,CCQC,SAEcI,EAAQC,GAAA,OAAAC,EAAA5D,MAAC,KAADD,UAAA,UAAA6D,IAStB,OATsBA,EAAAjE,EAAA9G,IAAAoF,MAAvB,SAAAsC,EAAwBsD,GAAkB,IAAArD,EAAAC,EAAAC,EAAA,OAAA7H,IAAAuB,MAAA,SAAAuG,GAAA,cAAAA,EAAAjC,KAAAiC,EAAA5D,MAAA,cAAA4D,EAAA5D,KAAA,EAEvBqG,EAAU,YAAaS,GAAU,KAAD,EAAzC,OAAHrD,EAAGG,EAAAlE,KAAAkE,EAAA5D,KAAA,EACUyD,EAAIK,OAAO,KAAD,EAAnB,GAAJJ,EAAIE,EAAAlE,KACL+D,EAAIW,GAAG,CAADR,EAAA5D,KAAA,cAAS0D,EAAqBW,IAAI,KAAD,EAG3B,OADXV,EAAOD,GACRM,MAAO,EAAKJ,EAAA/D,OAAA,SACV8D,GAAI,yBAAAC,EAAA9B,OAAA,GAAA0B,EAAA,MACXP,MAAA,KAAAD,UAAA,CAEM,SAAe+D,IAAU,OAAAC,EAAA/D,MAAC,KAADD,UAAA,CAG/B,SAAAgE,IAAA,OAAAA,EAAApE,EAAA9G,IAAAoF,MAHM,SAAA+F,IAAA,OAAAnL,IAAAuB,MAAA,SAAA6J,GAAA,cAAAA,EAAAvF,KAAAuF,EAAAlH,MAAA,cAAAkH,EAAAlH,KAAA,EAEAqG,EAAU,eAAe,KAAD,mBAAAa,EAAApF,OAAA,GAAAmF,EAAA,MAC9BhE,MAAA,KAAAD,UAAA,CC1Bc,SAASmE,EAAMC,GAC7B,IAAD5C,EADiC6C,EAAQD,EAARC,SAE1BC,GAAWrC,EAAAA,EAAAA,MACXK,GAAWC,EAAAA,EAAAA,MACXgC,ED8BA,WAEN,IAAMC,GAAcC,EAAAA,EAAAA,kBAQpB,OAPiBC,EAAAA,EAAAA,aAAY,CAC5BC,WAAYZ,EACZa,UAAW,WAEVJ,EAAYK,kBAAkB,OAC/B,GAGF,CCzCkBC,GACXnE,EAAOP,IAEb,OACC2E,EAAAA,EAAAA,MAAA,OAAKtC,UAAWC,EAAOC,KAAKC,SAAA,EAC3BmC,EAAAA,EAAAA,MAAA,QAAMtC,UAAWC,EAAOsC,MAAMpC,SAAA,EAC7BJ,EAAAA,EAAAA,KAACyC,EAAAA,GAAI,CAACC,GAAG,IAAIzC,UAAWC,EAAOyC,KAAKvC,UACnCJ,EAAAA,EAAAA,KAAA,OAAK4C,IAAKC,EAAMC,IAAI,8DAEpBjB,IAAY7B,EAAAA,EAAAA,KAACyC,EAAAA,GAAI,CAACC,GAAIb,EAASzB,UAACJ,EAAAA,EAAAA,KAAA,UAAAI,SAAQ,qCACnB,KAArB0B,EAAStC,WAAoBqC,IAAY7B,EAAAA,EAAAA,KAAA,UAAQK,QAAS,kBAAiBP,EAAX+B,IAA0C,EAAE,EAACzB,SAAC,uCAEhHmC,EAAAA,EAAAA,MAAA,QAAMtC,UAAWC,EAAOsC,MAAMpC,SAAA,EAC7BJ,EAAAA,EAAAA,KAAA,QAAAI,SAAgB,QAAhBpB,EAAOb,EAAKD,YAAI,IAAAc,OAAA,EAATA,EAAWvD,QAClBuE,EAAAA,EAAAA,KAAA,UAAQK,QAAS,kBAAM0B,EAASgB,QAAQ,EAAEC,SAA6B,QAAnBjB,EAASxD,OAAiB6B,SAAC,sCAI5D,QAAnB2B,EAASxD,SAAoByB,EAAAA,EAAAA,KAACiD,EAAAA,EAAO,MAGzC,CC/BA,OAAgB,KAAO,qBAAqB,KAAO,qBAAqB,cAAgB,8BAA8B,kBAAoB,mCCG3H,SAASC,EAAMtB,GAC7B,IADgCxB,EAAQwB,EAARxB,SAAUH,EAAS2B,EAAT3B,UAAW4B,EAAQD,EAARC,SAAQsB,EAAAvB,EAAEwB,SAAAA,OAAQ,IAAAD,GAAQA,EAAAE,EAAAzB,EAAE0B,aAAAA,OAAY,IAAAD,GAAQA,EAAAE,EAAA3B,EAAE4B,UAAAA,OAAS,IAAAD,GAAQA,EAAAE,EAAA7B,EAAE8B,IAAAA,OAAG,IAAAD,EAAG,EAACA,EAAEE,EAAM/B,EAAN+B,OAInI,YAFehG,IAAXgG,IAAsBA,GAAS3D,EAAAA,EAAAA,KAAC2B,EAAM,CAACE,SAAUA,MAGpDU,EAAAA,EAAAA,MAAA,OAAKtC,UAAWC,EAAOC,KAAMyD,MAAO,CAAEC,UAAWL,EAAY,SAAW,IAAKpD,SAAA,CAC3EuD,IAAU3D,EAAAA,EAAAA,KAAA,WACXA,EAAAA,EAAAA,KAAA,OACCC,UAAWK,EACVJ,EAAOa,KAAMd,EACbmD,GAAYlD,EAAO4D,cACnBR,GAAgBpD,EAAO6D,mBAExBH,MAAO,CAAEF,IAAAA,EAAKG,UAAWL,EAAY,OAAS,IAAKpD,SAElDA,MAIL,cCrBO,SAAS4D,EAASC,GACxB,IAD+EC,EAAM1G,UAAAnC,OAAA,QAAAsC,IAAAH,UAAA,GAAAA,UAAA,GAAG,WAExFkC,EAAAA,EAAAA,YAAU,WAET,IAAMyE,EAAYC,SAASH,MACrBzN,EAAoB,iBAATyN,EAAoB,CAACA,GAASA,EAE/C,OADAG,SAASH,MAAQ,CAACC,GAAMG,QAAAC,EAAAA,EAAAA,GAAK9N,IAAGmK,QAAO,SAAA1H,GAAC,QAAMA,CAAC,IAAE2H,KAAK,OAC/C,WAAQwD,SAASH,MAAQE,CAAW,CAC5C,GAAG,CAACF,EAAOC,GACZ,CCPe,SAASK,IAGvB,OADAP,EAAS,QAERhE,EAAAA,EAAAA,KAACkD,EAAM,CAACE,UAAQ,EAACO,QAAQ3D,EAAAA,EAAAA,KAACH,EAAU,IAAIO,SAAC,sGAI3C,CCRe,SAASoE,IAGvB,OADAR,EAAS,QAERhE,EAAAA,EAAAA,KAACkD,EAAM,CAACE,UAAQ,EAACO,QAAQ3D,EAAAA,EAAAA,KAACH,EAAU,IAAIO,SAAC,6QAI3C,cCXA,GAAgB,KAAO,sBCMR,SAASqE,IAEvBT,EAAS,QACT,IAAAU,GAA0BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA/BvH,EAAKyH,EAAA,GAAEE,EAAQF,EAAA,GAChBG,GAAYC,EAAAA,EAAAA,QAAyB,MACrCC,GAAeD,EAAAA,EAAAA,QAAyB,MACxCjD,ERRA,SAAyBmD,GAE/B,IAAMlD,GAAcC,EAAAA,EAAAA,kBASpB,OARiBC,EAAAA,EAAAA,aAAY,CAC5BC,WAAYhB,EACZiB,UAAW,SAAClE,GAEX8D,EAAYmD,aAAa,QAAQ,kBAAMjH,CAAI,GAC5C,EACAgH,QAAAA,GAGF,CQJkBE,CAAgBN,GASjC,OACCvC,EAAAA,EAAAA,MAACW,EAAM,CAACS,OAAQ,KAAMP,UAAQ,EAACE,cAAY,EAACI,IAAI,MAAKtD,SAAA,EACpDJ,EAAAA,EAAAA,KAAA,MAAAI,SAAI,YACHjD,IAAS6C,EAAAA,EAAAA,KAAA,MAAAI,SAAKjD,IACd4E,EAASsD,YAAarF,EAAAA,EAAAA,KAACiD,EAAAA,EAAO,KAC/BV,EAAAA,EAAAA,MAAA,QAAMtC,UAAWC,EAAOoF,KAAMC,SAAU,SAAAhP,GAAOA,EAAEiP,iBAZnD,WACC,IAADC,EAAAC,EACOhH,GAAyB,QAAjB+G,EAAAV,EAAUY,eAAO,IAAAF,OAAA,EAAjBA,EAAmBzO,QAAS,GACpC4O,GAA+B,QAApBF,EAAAT,EAAaU,eAAO,IAAAD,OAAA,EAApBA,EAAsB1O,QAAS,GAChD+K,EAASgB,OAAO,CAAErE,MAAAA,EAAOkH,SAAAA,GAC1B,CAOqEL,EAAY,EAAEnF,SAAA,EAChFmC,EAAAA,EAAAA,MAAA,SAAAnC,SAAA,EACCJ,EAAAA,EAAAA,KAAA,OAAAI,SAAK,WACLJ,EAAAA,EAAAA,KAAA,SAAO6F,IAAKd,EAAW5M,KAAK,OAAOsD,KAAK,QAAQqK,UAAQ,QAEzDvD,EAAAA,EAAAA,MAAA,SAAAnC,SAAA,EACCJ,EAAAA,EAAAA,KAAA,OAAAI,SAAK,cACLJ,EAAAA,EAAAA,KAAA,SAAO6F,IAAKZ,EAAc9M,KAAK,WAAWsD,KAAK,WAAWqK,UAAQ,QAEnE9F,EAAAA,EAAAA,KAAA,UAAQ7H,KAAK,SAAS6K,SAA6B,WAAnBjB,EAASxD,OAAoB6B,SAAC,gBAIlE,CChCO,SAAS2F,EAAOC,GAEtB,OAAOnI,EAAAA,EAAAA,UAAS,CAAC,MAAM,GAADwG,OAAK2B,KAAU,kBAmCrC,SAEoB5E,GAAA,OAAA6E,EAAAxI,MAAC,KAADD,UAAA,CArCuB0I,CAAOF,EAAM,GACzD,CAaC,SAccG,IAAO,OAAAC,EAAA3I,MAAC,KAADD,UAAA,UAAA4I,IAOrB,OAPqBA,EAAAhJ,EAAA9G,IAAAoF,MAAtB,SAAAsC,IAAA,IAAAC,EAAAC,EAAA,OAAA5H,IAAAuB,MAAA,SAAAuG,GAAA,cAAAA,EAAAjC,KAAAiC,EAAA5D,MAAA,cAAA4D,EAAA5D,KAAA,EAEmB6D,MAAM,aAAa,KAAD,EAA3B,OAAHJ,EAAGG,EAAAlE,KAAAkE,EAAA5D,KAAA,EACUyD,EAAIK,OAAO,KAAD,EAAnB,GAAJJ,EAAIE,EAAAlE,KACL+D,EAAIW,GAAG,CAADR,EAAA5D,KAAA,cAAS0D,EAAqBW,IAAI,KAAD,SAAAT,EAAA/D,OAAA,SAErC6D,GAAI,wBAAAE,EAAA9B,OAAA,GAAA0B,EAAA,MACXP,MAAA,KAAAD,UAAA,CAEoB,SAAAyI,IAOpB,OAPoBA,EAAA7I,EAAA9G,IAAAoF,MAArB,SAAA+F,EAAsBuE,GAAsB,IAAA/H,EAAAC,EAAA,OAAA5H,IAAAuB,MAAA,SAAA6J,GAAA,cAAAA,EAAAvF,KAAAuF,EAAAlH,MAAA,cAAAkH,EAAAlH,KAAA,EAEzB6D,MAAM,YAAc2H,GAAO,KAAD,EAAnC,OAAH/H,EAAGyD,EAAAxH,KAAAwH,EAAAlH,KAAA,EACUyD,EAAIK,OAAO,KAAD,EAAnB,GAAJJ,EAAIwD,EAAAxH,KACL+D,EAAIW,GAAG,CAAD8C,EAAAlH,KAAA,cAAS0D,EAAqBW,IAAI,KAAD,SAAA6C,EAAArH,OAAA,SAErC6D,GAAI,wBAAAwD,EAAApF,OAAA,GAAAmF,EAAA,MACXhE,MAAA,KAAAD,UAAA,UAEc6I,EAAUC,GAAA,OAAAC,EAAA9I,MAAC,KAADD,UAAA,UAAA+I,IAMxB,OANwBA,EAAAnJ,EAAA9G,IAAAoF,MAAzB,SAAA8K,EAA0BC,GAAmB,IAAAxI,EAAAC,EAAA,OAAA5H,IAAAuB,MAAA,SAAA6O,GAAA,cAAAA,EAAAvK,KAAAuK,EAAAlM,MAAA,cAAAkM,EAAAlM,KAAA,EAE1BqG,EAAU,WAAY4F,GAAS,KAAD,EAAvC,OAAHxI,EAAGyI,EAAAxM,KAAAwM,EAAAlM,KAAA,EACUyD,EAAIK,OAAO,KAAD,EAAnB,GAAJJ,EAAIwI,EAAAxM,KACL+D,EAAIW,GAAG,CAAD8H,EAAAlM,KAAA,cAAS0D,EAAqBW,IAAI,KAAD,SAAA6H,EAAArM,OAAA,SACrC6D,GAAI,wBAAAwI,EAAApK,OAAA,GAAAkK,EAAA,MACX/I,MAAA,KAAAD,UAAA,CC7DD,OAAgB,KAAO,qBAAqB,KAAO,qBAAqB,MAAQ,sBAAsB,OAAS,uBAAuB,MAAQ,sBAAsB,KAAO,sBCE5J,SAASmJ,EAAK/E,GAC5B,IAD+BxB,EAAQwB,EAARxB,SAAQwG,EAAAhF,EAAEiF,KAAAA,OAAI,IAAAD,GAAQA,EAAEE,EAAKlF,EAALkF,MAAKC,EAAAnF,EAAEqC,MAAAA,OAAK,IAAA8C,EAAG,GAAEA,EAExE,OACC/G,EAAAA,EAAAA,KAAA,OAAKC,UAAWK,EAAWJ,EAAOC,KAAM0G,GAAQ3G,EAAO2G,MAAMzG,UAC5DmC,EAAAA,EAAAA,MAAA,OAAKtC,UAAWC,EAAO8G,MAAM5G,SAAA,EAE1B6D,GAAS6C,KACVvE,EAAAA,EAAAA,MAAA,OAAKtC,UAAWC,EAAOyD,OAAOvD,SAAA,EAC7BJ,EAAAA,EAAAA,KAAA,MAAAI,SAAK6D,IACJ6C,IAAS9G,EAAAA,EAAAA,KAAA,UAAQC,UAAWC,EAAO4G,MAAOzG,QAASyG,EAAM1G,SAAC,eAG7DJ,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAOa,KAAKX,SAC1BA,QAKN,CCbe,SAAS6G,IACvB,IAADC,EACCxC,GAAsCC,EAAAA,EAAAA,WAAS,GAAMC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA9CyC,EAAWvC,EAAA,GAAEwC,EAAcxC,EAAA,GAC5ByC,GAAWrC,EAAAA,EAAAA,QAAyB,MACpCsC,GHNCzJ,EAAAA,EAAAA,UAAS,OAAQsI,GGOlBoB,EHDA,WAEN,IAAMvF,GAAcC,EAAAA,EAAAA,kBASpB,OARiBC,EAAAA,EAAAA,aAAY,CAC5BC,WAAYkE,EACZjE,UAAW,SAAClE,GACX,IAADsJ,EACkD,YAAZ,QAAjCA,EAAAxF,EAAYyF,cAAc,eAAO,IAAAD,OAAA,EAAjCA,EAAmCjJ,SACtCyD,EAAYmD,aAAa,QAAQ,SAACmC,GAAY,OAAKA,EAAI,GAAAjD,QAAAC,EAAAA,EAAAA,GAAOgD,GAAI,CAAEpJ,IAAQ,CAACA,EAAK,GACpF,GAGF,CGXgBwJ,GAEf,OACCnF,EAAAA,EAAAA,MAACW,EAAM,CAACI,cAAY,EAACI,IAAI,MAAKtD,SAAA,CAC5BkH,EAAKjC,YAAarF,EAAAA,EAAAA,KAACiD,EAAAA,EAAO,IAC1BsE,EAAOlC,YAAarF,EAAAA,EAAAA,KAACiD,EAAAA,EAAO,KAC7BjD,EAAAA,EAAAA,KAAA,MAAAI,SAAI,cACHkH,EAAKK,SAAO,GAAAtD,OAAOiD,EAAKnK,OACf,QADsB+J,EAC/BI,EAAKpJ,YAAI,IAAAgJ,OAAA,EAATA,EAAWU,KAAI,SAAA3O,GAAC,OAAIsJ,EAAAA,EAAAA,MAACE,EAAAA,GAAI,CAACC,GAAI,QAAUzJ,EAAEwF,GAAG2B,SAAA,EAC7CJ,EAAAA,EAAAA,KAAA,OAAAI,SAAMnH,EAAEwC,QACRuE,EAAAA,EAAAA,KAAA,OAAAI,SAAMnH,EAAE4O,SACF,IACNzI,EAAiB,aAAcY,EAAAA,EAAAA,KAAA,UAAQK,QAAS,kBAAM+G,GAAe,EAAK,EAAChH,SAAC,aAC7EJ,EAAAA,EAAAA,KAAC2G,EAAK,CAAC1C,MAAM,cAAc4C,KAAMM,EAAaL,MAAO,kBAAMM,GAAe,EAAM,EAAChH,UAChFmC,EAAAA,EAAAA,MAAA,QAAMgD,SAAU,SAAAhP,GAEfA,EAAEiP,iBACG6B,EAAS1B,SAAqC,IAA1B0B,EAAS1B,QAAQ3O,OAC1CuQ,EAAOxE,OAAO,CACbtH,KAAM4L,EAAS1B,QAAQ3O,OACrB,CACFoL,UAAW,kBAAMgF,GAAe,EAAM,GAExC,EAAEhH,SAAA,CACAmH,EAAOI,SAAO,GAAAtD,OAAOkD,EAAOpK,QAC7BoF,EAAAA,EAAAA,MAAA,SAAAnC,SAAA,EACCJ,EAAAA,EAAAA,KAAA,OAAAI,SAAK,UACLJ,EAAAA,EAAAA,KAAA,SAAO7H,KAAK,OAAO0N,IAAKwB,QAEzBrH,EAAAA,EAAAA,KAAA,UAAQ7H,KAAK,SAAQiI,SAAC,kBAK3B,cC9CA,SAAS0H,EAAQvR,EAAGE,GAClB,IAAID,EAAIE,OAAOsF,KAAKzF,GACpB,GAAIG,OAAOqR,sBAAuB,CAChC,IAAIjR,EAAIJ,OAAOqR,sBAAsBxR,GACrCE,IAAMK,EAAIA,EAAE6J,QAAO,SAAUlK,GAC3B,OAAOC,OAAOsR,yBAAyBzR,EAAGE,GAAGiB,UAC/C,KAAKlB,EAAEwE,KAAKyC,MAAMjH,EAAGM,EACvB,CACA,OAAON,CACT,CACe,SAASyR,EAAe1R,GACrC,IAAK,IAAIE,EAAI,EAAGA,EAAI+G,UAAUnC,OAAQ5E,IAAK,CACzC,IAAID,EAAI,MAAQgH,UAAU/G,GAAK+G,UAAU/G,GAAK,CAAC,EAC/CA,EAAI,EAAIqR,EAAQpR,OAAOF,IAAI,GAAI6C,SAAQ,SAAU5C,GCbtC,IAAyByR,EAAKjL,EAAKjG,EAAVkR,EDcnB3R,ECdwB0G,EDcrBxG,ECd0BO,EDcvBR,EAAEC,ICb3BwG,GAAM,EAAAkL,EAAA,GAAclL,MACTiL,EACTxR,OAAOK,eAAemR,EAAKjL,EAAK,CAC9BjG,MAAOA,EACPU,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZsQ,EAAIjL,GAAOjG,CDKX,IAAKN,OAAO0R,0BAA4B1R,OAAO2R,iBAAiB9R,EAAGG,OAAO0R,0BAA0B5R,IAAMsR,EAAQpR,OAAOF,IAAI6C,SAAQ,SAAU5C,GAC7IC,OAAOK,eAAeR,EAAGE,EAAGC,OAAOsR,yBAAyBxR,EAAGC,GACjE,GACF,CACA,OAAOF,CACT,CEpBA,OAAgB,KAAO,qBAAqB,OAAS,wBCD9C,SAAS+R,GAAOC,EAAaC,GAEnC,MAAO,GAAAnE,OAAGkE,GAAME,SAASD,EAAK,IAC/B,CCKO,SAASE,GAAgBC,GAE/B,OAAKA,EACC,GAANtE,OAAUsE,EAAKC,cAAa,KAAAvE,OAAIiE,GAAOK,EAAKE,WAAa,EAAG,GAAE,KAAAxE,OAAIiE,GAAOK,EAAKG,UAAW,IADvE,EAEnB,CAEO,SAASC,GAAaJ,GAC5B,IADwCK,EAAOxL,UAAAnC,OAAA,QAAAsC,IAAAH,UAAA,IAAAA,UAAA,GAE3CyL,EAAO,GAAA5E,OAAMiE,GAAOK,EAAKO,WAAY,GAAE,KAAA7E,OAAIiE,GAAOK,EAAKQ,aAAc,IACzE,OAAIH,EAAgBC,EAAO,IAAA5E,OAAOiE,GAAOK,EAAKS,aAAc,IACrDH,CACR,CAEO,SAASI,GAAiBV,GAChC,IAD4CK,EAAOxL,UAAAnC,OAAA,QAAAsC,IAAAH,UAAA,IAAAA,UAAA,GAEnD,OArBM,SAAsBmL,GAE5B,OAAKA,EACC,GAANtE,OAAUiE,GAAOK,EAAKG,UAAW,GAAE,KAAAzE,OAAIiE,GAAOK,EAAKE,WAAa,EAAG,GAAE,KAAAxE,OAAIsE,EAAKC,eAD5D,EAEnB,CAiBQU,CAAaX,GAAQ,IAAMI,GAAaJ,EAAMK,EACtD,CAEO,SAASO,GAAcZ,GAC7B,IADyCK,EAAOxL,UAAAnC,OAAA,QAAAsC,IAAAH,UAAA,IAAAA,UAAA,GAEhD,OAAOkL,GAAgBC,GAAQ,IAAMI,GAAaJ,EAAMK,EACzD,CCzBO,SAASQ,GAASxD,EAAwByD,GAEhD,OAAO5L,EAAAA,EAAAA,UAAS,CAAC,QAAQ,GAADwG,OAAK2B,GAASyD,IAAS,kBAM/C,SA8BsBrI,EAAAkF,GAAA,OAAAoD,GAAAjM,MAAC,KAADD,UAAA,CApC+BmM,CAAS3D,EAAOyD,EAAO,GAC7E,CAEO,SAASG,GAAiB5D,EAAwByD,GAExD,OAAO5L,EAAAA,EAAAA,UAAS,CAAC,gBAAgB,GAADwG,OAAK2B,GAASyD,IAAS,kBAuCvD,SAEyBI,EAAAC,GAAA,OAAAC,GAAAtM,MAAC,KAADD,UAAA,CAzCoCwM,CAAYhE,EAAOyD,EAAO,GACxF,CA8BuB,SAAAC,KAQtB,OARsBA,GAAAtM,EAAA9G,IAAAoF,MAAvB,SAAAsC,EAAwBgI,EAAwByD,GAAmB,IAAAxL,EAAAC,EAAA,OAAA5H,IAAAuB,MAAA,SAAAuG,GAAA,cAAAA,EAAAjC,KAAAiC,EAAA5D,MAAA,cAAA4D,EAAA5D,KAAA,EAEhD6D,MAAM,cAAgB2H,EAAK,UAAA3B,OAClCoF,EAAOQ,MAAK,UAAA5F,OAASoF,EAAOtR,KAAI,WAAAkM,OAAUkF,GAAcE,EAAOS,OAAM,SAAA7F,OAAQkF,GAAcE,EAAOU,KAAI,SAAA9F,OAAQoF,EAAOW,YAAc,EAAI,IAAK,KAAD,EAD7I,OAAHnM,EAAGG,EAAAlE,KAAAkE,EAAA5D,KAAA,EAEUyD,EAAIK,OAAO,KAAD,EAAnB,GAAJJ,EAAIE,EAAAlE,KACL+D,EAAIW,GAAG,CAADR,EAAA5D,KAAA,cAAS0D,EAAqBW,IAAI,KAAD,SAAAT,EAAA/D,OAAA,SAErC6D,GAAI,wBAAAE,EAAA9B,OAAA,GAAA0B,EAAA,MACXP,MAAA,KAAAD,UAAA,CAEyB,SAAAuM,KAOzB,OAPyBA,GAAA3M,EAAA9G,IAAAoF,MAA1B,SAAA+F,EAA2BuE,EAAwByD,GAAsB,IAAAxL,EAAAC,EAAA,OAAA5H,IAAAuB,MAAA,SAAA6J,GAAA,cAAAA,EAAAvF,KAAAuF,EAAAlH,MAAA,cAAAkH,EAAAlH,KAAA,EAEtD6D,MAAM,uBAAyB2H,EAAK,UAAA3B,OAAakF,GAAcE,EAAOS,OAAM,SAAA7F,OAAQkF,GAAcE,EAAOU,KAAI,SAAA9F,OAAQoF,EAAOW,YAAc,EAAI,IAAK,KAAD,EAA3J,OAAHnM,EAAGyD,EAAAxH,KAAAwH,EAAAlH,KAAA,EACUyD,EAAIK,OAAO,KAAD,EAAnB,GAAJJ,EAAIwD,EAAAxH,KACL+D,EAAIW,GAAG,CAAD8C,EAAAlH,KAAA,cAAS0D,EAAqBW,IAAI,KAAD,SAAA6C,EAAArH,OAAA,SAErC6D,GAAI,wBAAAwD,EAAApF,OAAA,GAAAmF,EAAA,MACXhE,MAAA,KAAAD,UAAA,CC1DD,QAAgB,KAAO,qBAAqB,KAAO,sBCEpC,SAAS6M,GAAKzI,GAC5B,IAAD0I,EAAAC,EADgCrM,EAAI0D,EAAJ1D,KAAM+F,EAAKrC,EAALqC,MAAOuG,EAAS5I,EAAT4I,UAE5C9F,GAA4BC,EAAAA,EAAAA,WAAU,GAAEC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAjC+F,EAAM7F,EAAA,GAAE8F,EAAS9F,EAAA,GAClB+F,EAAuB,GAAfzM,EAAK7C,OACnB6C,EAAK7E,SAAQ,SAAAJ,GAEW,GAAnBA,EAAEC,OAAOmC,SAAapC,EAAEC,OAAS,CAACD,EAAEC,OAAO,GAAID,EAAEC,OAAO,IAC7D,IACA,IAAM0R,EAAO1M,EAAK2M,QAAO,SAAChS,EAAGI,GAAC,OAAK6R,KAAKC,IAAIlS,EAAGI,EAAEC,OAAO2R,QAAO,SAAChS,EAAGI,GAAC,OAAK6R,KAAKC,IAAIlS,EAAGI,EAAEjC,MAAM,GAAE,GAAG,GAAE,GAC9FgU,EAAQ,IACRC,EAAS,IACTC,EAAU,GACVC,EAAS,CACd,CAAEC,KAAM,0BAA2BC,OAAQ,qBAC3C,CAAED,KAAM,0BAA2BC,OAAQ,qBAC3C,CAAED,KAAM,yBAA0BC,OAAQ,oBAC1C,CAAED,KAAM,2BAA4BC,OAAQ,sBAC5C,CAAED,KAAM,0BAA2BC,OAAQ,qBAE3C,CAAED,KAAM,yBAA0BC,OAAQ,oBAC1C,CAAED,KAAM,0BAA2BC,OAAQ,qBAC3C,CAAED,KAAM,yBAA0BC,OAAQ,oBAC1C,CAAED,KAAM,0BAA2BC,OAAQ,qBAC3C,CAAED,KAAM,0BAA2BC,OAAQ,sBAEtCC,GAAoB,QAAPhB,EAAApM,EAAK,UAAE,IAAAoM,GAAQ,QAARC,EAAPD,EAASpR,cAAM,IAAAqR,OAAR,EAAPA,EAAiBlP,SAAU,EACxCkQ,EAAOP,GAASM,EAAa,GAC7BE,EAAW,SAACvU,GAAS,OAAK6T,KAAKW,MAAMxU,EAAIsU,EAAOL,EAAS,EACzDQ,EAAc,SAACzS,EAAWhC,GAAS,MAAM,CAC9C0U,EAAGH,EAASvU,GACZ2U,GAAIJ,EAASV,KAAKC,IAAI9T,EAAI,GAAK,IAC/B4U,GAAIL,EAASV,KAAKgB,IAAI7U,EAAI,GAAKqU,EAAa,IAC5C5S,EAAGoS,KAAKW,OAAO,EAAIxS,EAAI2R,GAAQK,EAASC,GACxC,EACKa,EAAU,CAAErT,EAAGgT,EAAYd,EAAM,GAAGlS,EAAGsT,MAAOpB,GAC9CqB,EAAoB,GAARrB,EAAY,GAAME,KAAKoB,MAAMtB,EAAO,GAChDuB,EAAW,CAAEzT,EAAGgT,EAAYO,EAAW,GAAGvT,EAAGsT,MAAOC,GAC1D,OAAO1J,EAAAA,EAAAA,MAAA,OAAKtC,UAAWC,GAAOC,KAAKC,SAAA,EAClCJ,EAAAA,EAAAA,KAAA,MAAAI,SAAK6D,KACLjE,EAAAA,EAAAA,KAAA,OACCgL,MAAOA,IACPC,OAAQA,IACRmB,YAAa,SAAA7V,GAEZ,IAAMoV,EAAIpV,EAAE8V,YAAYC,QAAUpB,EAClCR,EAAUI,KAAKgB,IAAIhB,KAAKC,IAAID,KAAKW,MAAME,EAAIJ,GAAO,GAAID,EAAa,GACpE,EACAiB,aAAc,kBAAM7B,GAAW,EAAE,EAACtK,SAEjCuK,GAAQ3K,EAAAA,EAAAA,KAAAwM,EAAAA,SAAA,CAAApM,UACRJ,EAAAA,EAAAA,KAAA,QAAM2L,EAAGX,IAAWtS,EAAGuS,GAAW7K,SAAC,eAC9BmC,EAAAA,EAAAA,MAAAiK,EAAAA,SAAA,CAAApM,SAAA,EACLJ,EAAAA,EAAAA,KAAA,QAAM4L,GAAI,EAAGC,GAAIb,IAAqByB,GAAIV,EAAQrT,EAAGgU,GAAIX,EAAQrT,EAAGiU,YAAa,EAAGtB,OAAO,eAC3FrL,EAAAA,EAAAA,KAAA,QAAM2L,EAAG,EAAGjT,EAAGqT,EAAQrT,EAAI,GAAIkU,SAAU,GAAGxM,SAAG2L,EAAQC,SACvDhM,EAAAA,EAAAA,KAAA,QAAM4L,GAAI,EAAGC,GAAIb,IAAqByB,GAAIN,EAASzT,EAAGgU,GAAIP,EAASzT,EAAGiU,YAAa,EAAGtB,OAAO,eAC7FrL,EAAAA,EAAAA,KAAA,QAAM2L,EAAG,EAAGjT,EAAGyT,EAASzT,EAAI,GAAIkU,SAAU,GAAGxM,SAAG+L,EAASH,QACxD9N,EAAK0J,KAAI,SAAC3O,EAAGhC,GAEb,IAAM4V,EAAS5T,EAAEC,OAAO0O,KAAI,SAAC3O,EAAGhC,GAAC,OAAKyU,EAAYzS,EAAEjC,MAAOC,EAAE,IACvD6V,EAAQ3B,EAAOlU,IAAMkU,EAAO,GAClC,OAAOnL,EAAAA,EAAAA,KAAA,QACNoL,KAAM0B,EAAM1B,KACZC,OAAQyB,EAAMzB,OACdsB,YAAa,EAEb5T,EAAC,IAAAsL,OAAMwI,EAAOjF,KAAI,SAAA/O,GAAC,SAAAwL,OAAOxL,EAAE+S,GAAE,KAAAvH,OAAIxL,EAAEH,EAAC,KAAA2L,OAAIxL,EAAEgT,GAAE,KAAAxH,OAAIxL,EAAEH,EAAC,IAAIkI,KAAK,MAAK,MAAAyD,OAAK2G,IAAe,KAAA3G,OAAI4G,IAAoB,MAAA5G,OAAK6G,EAAO,KAAA7G,OAAI4G,IAAoB,MAAA5G,OAAKwI,EAAO,GAAGlB,EAAC,KAAAtH,OAAIwI,EAAO,GAAGnU,IAElL,IAGC+R,GAAU,IAAKzK,EAAAA,EAAAA,KAAA,QAAM4L,GAAInB,EAASc,EAAOL,EAASW,GAAIpB,EAASc,EAAOL,EAASuB,GAAI,EAAGC,GAAIzB,IAAsB0B,YAAa,EAAGtB,OAAO,cAGzInN,EAAK0J,KAAI,SAAA3O,GACT,IAAD8T,EAAAC,EACOC,EAAMhU,EAAEC,OAAO2R,QAAO,SAAChS,EAAGI,GAAC,OAAKJ,EAAII,EAAEjC,KAAK,GAAE,GACnD,OAAOuL,EAAAA,EAAAA,MAAA,OAAKtC,UAAWC,GAAOgN,KAAK9M,SAAA,EAClCJ,EAAAA,EAAAA,KAAA,OAAAI,SAAMnH,EAAE+S,SACRhM,EAAAA,EAAAA,KAAA,OAAAI,SAAMqK,EAAS,EAAIxR,EAAEkU,UAAYrC,KAAKW,MAAMwB,EAAM3B,EAAa,IAAM,IAAM,GAAqB,QAAnByB,EAAG9T,EAAEC,OAAOuR,UAAO,IAAAsC,OAAA,EAAhBA,EAAkBf,SAClGhM,EAAAA,EAAAA,KAAA,OAAAI,SAAMqK,EAAS,EAAID,GAAayC,GAAO,EAAoB,QAAnBD,EAAG/T,EAAEC,OAAOuR,UAAO,IAAAuC,OAAA,EAAhBA,EAAkBhW,UAE/D,MAEF,CC1Ee,SAASoW,KACvB,IAADC,EAAAC,EACC5I,GAAkCC,EAAAA,EAAAA,WAAS,WAE1C,IAAMgE,EAAO,IAAI4E,KAGjB,OAFA5E,EAAK6E,SAAS,EAAG,EAAG,EAAG,GACvB7E,EAAK8E,QAAQ9E,EAAKG,UAAY,GACvBH,CACR,IAAE/D,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GANKgJ,EAAS9I,EAAA,GAAE+I,EAAY/I,EAAA,GAO9BgJ,GAA8BjJ,EAAAA,EAAAA,WAAS,WAEtC,IAAMgE,EAAO,IAAI4E,KAEjB,OADA5E,EAAK6E,SAAS,EAAG,EAAG,EAAG,GAChB7E,CACR,IAAEkF,GAAAhJ,EAAAA,EAAAA,GAAA+I,EAAA,GALKE,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GAM1BG,GAA0BrJ,EAAAA,EAAAA,UAA+B,QAAOsJ,GAAApJ,EAAAA,EAAAA,GAAAmJ,EAAA,GAAzD/D,EAAKgE,EAAA,GAAEC,EAAQD,EAAA,GAEhBjI,GAAQmI,EAAAA,EAAAA,MAAmB,MAC3BC,EAAMrI,EAAOC,GACnBhC,EAAS,EAAS,QAARqJ,EAAAe,EAAIlQ,YAAI,IAAAmP,OAAA,EAARA,EAAU5R,OAAQ,QAC5B,IAAM4S,EAAc,CAAEpE,MAAAA,EAAO9R,KAAM,WAAY+R,MAAOwD,EAAWvD,IAAM,WAAQ,IAAMxB,EAAO,IAAI4E,KAAKO,GAA4C,OAAlCnF,EAAK8E,QAAQ9E,EAAKG,UAAY,GAAWH,CAAK,CAAtF,IACjE2F,EAAiB9E,GAASxD,EAAKuI,EAAAA,EAAA,GAAOF,GAAW,IAAElW,KAAM,cACzDqW,EAAiBhF,GAASxD,EAAKuI,EAAAA,EAAA,GAAOF,GAAW,IAAElW,KAAM,cACzDsW,EAAoBjF,GAASxD,EAAKuI,EAAAA,EAAA,GAAOF,GAAW,IAAElW,KAAM,WAAYiS,aAAa,KACrFsE,EAAgBlF,GAASxD,EAAKuI,EAAAA,EAAA,GAAOF,GAAW,IAAElW,KAAM,aACxDwW,EAAW/E,GAAiB5D,EAAOqI,GACnCO,EAAchF,GAAiB5D,EAAKuI,EAAAA,EAAA,GAAOF,GAAW,IAAEjE,aAAa,KAE3E,SAASyE,EAAiBC,GACzB,IADwE3B,IAAO3P,UAAAnC,OAAA,QAAAsC,IAAAH,UAAA,KAAAA,UAAA,GAEzEU,EAAO4Q,EAAY5Q,KACzB,OAAW,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAM0J,KAAI,SAAA3O,GAEhB,IAAMiF,EAAOjF,EAAEC,OACT6V,EAAa,IAAIxB,KAAKG,GACtBsB,EAAW,IAAIzB,KAAKO,GAC1BiB,EAAWvB,SAAS,GACpBwB,EAASxB,SAAS,IAClB,IAAMyB,EAAM,IAAI1B,KAChB0B,EAAIC,WAAmD,GAAxCpE,KAAKoB,MAAM+C,EAAI9F,aAAe,GAAK,GAAS,EAAG,GAC9D,IAAIR,GAAQoG,EACR5E,IAAQ6E,EAAWC,EAAMD,EAAWC,GAClCE,EAAU,CACfC,OAAQ,IACRC,KAAM,KACNC,IAAK,OACJrF,GACF,MAAO,CACN+B,MAAO/S,EAAE+S,MACTmB,QAASA,EACTjU,SAAa,OAAJgF,QAAI,IAAJA,OAAI,EAAJA,EAAM0J,KAAI,SAAA3O,GAAC,MAAK,CAAEjC,MAAOiC,EAAEsW,MAAOvD,MAAO/S,EAAE0P,KAAM,MAAM,IAAIkC,QAAO,SAACpU,EAAGwC,EAAGhC,GAEjF,IAAMuY,EAAQ,IAAIjC,KAAKtU,EAAE+S,OACzB/S,EAAE+S,MAAQ3C,GAAiBmG,GAG3B,IAFA,IAAMC,GAAUD,EAETC,EAAS9G,GAEflS,EAAEuE,KAAK,CAAEhE,MAAO,EAAGgV,MAAO3C,GAAiB,IAAIkE,KAAK5E,MACpDA,GAAQwG,EAIT,IAFAxG,GAAQwG,EACR1Y,EAAEuE,KAAK/B,GACAhC,EAAI,IAAS,OAAJiH,QAAI,IAAJA,OAAI,EAAJA,EAAM7C,SAAUsN,EAAOwB,GAEtC1T,EAAEuE,KAAK,CAAEhE,MAAO,EAAGgV,MAAO3C,GAAiB,IAAIkE,KAAK5E,MACpDA,GAAQwG,EAGT,OAAO1Y,CACR,GAAG,IAEL,MAAM,EACP,CAEA,OACC8L,EAAAA,EAAAA,MAACW,EAAM,CAACI,cAAY,EAACI,IAAI,MAAM7B,SAAS,IAAGzB,SAAA,EACxCgO,EAAI/I,WAAaiJ,EAAejJ,WAAamJ,EAAenJ,WAAaqJ,EAAcrJ,aAAcrF,EAAAA,EAAAA,KAACiD,EAAAA,EAAO,IAC9GmL,EAAIzG,SAAO,QAAAtD,OAAY+J,EAAIjR,OAC3BmR,EAAe3G,SAAO,mBAAAtD,OAAuBiK,EAAenR,OAC5DqR,EAAe7G,SAAO,mBAAAtD,OAAuBmK,EAAerR,OAC5DuR,EAAc/G,SAAO,iBAAAtD,OAAqBqK,EAAcvR,OACxDwR,EAAShH,SAAO,aAAAtD,OAAiBsK,EAASxR,QAC3C6C,EAAAA,EAAAA,KAAA,MAAAI,SAAa,QAAbkN,EAAKc,EAAIlQ,YAAI,IAAAoP,OAAA,EAARA,EAAU7R,QACf8G,EAAAA,EAAAA,MAAA,OAAAnC,SAAA,EACCJ,EAAAA,EAAAA,KAAA,QAAAI,SAAM,cACNmC,EAAAA,EAAAA,MAAA,SAAAnC,SAAA,EACCJ,EAAAA,EAAAA,KAAA,QAAAI,SAAM,aACNJ,EAAAA,EAAAA,KAAA,SAAO7H,KAAK,OAAOnB,MAAO0R,GAAgBgF,GAAYgC,SAAU,SAAAnZ,GAAC,OAAIoX,GAAa,SAAA1U,GAAC,OAAI1C,EAAEoZ,OAAOC,aAAe3W,CAAC,GAAC,QAElHsJ,EAAAA,EAAAA,MAAA,SAAAnC,SAAA,EACCJ,EAAAA,EAAAA,KAAA,QAAAI,SAAM,WACNJ,EAAAA,EAAAA,KAAA,SAAO7H,KAAK,OAAOnB,MAAO0R,GAAgBoF,GAAU4B,SAAU,SAAAnZ,GAAC,OAAIwX,GAAW,SAAA9U,GAAC,OAAI1C,EAAEoZ,OAAOC,aAAe3W,CAAC,GAAC,QAE9GsJ,EAAAA,EAAAA,MAAA,SAAAnC,SAAA,EACCJ,EAAAA,EAAAA,KAAA,QAAAI,SAAM,aACNmC,EAAAA,EAAAA,MAAA,UAAQvL,MAAOiT,EAAOyF,SAAU,SAAAnZ,GAAC,OAAI2X,EAAS3X,EAAEoZ,OAAO3Y,MAAa,EAACoJ,SAAA,EACpEJ,EAAAA,EAAAA,KAAA,UAAQhJ,MAAM,SAAQoJ,SAAC,gBACvBJ,EAAAA,EAAAA,KAAA,UAAQhJ,MAAM,OAAMoJ,SAAC,UACrBJ,EAAAA,EAAAA,KAAA,UAAQhJ,MAAM,MAAKoJ,SAAC,kBAIvBmC,EAAAA,EAAAA,MAAA,OAAKtC,UAAWC,EAAO2P,OAAOzP,SAAA,EAC7BJ,EAAAA,EAAAA,KAACqK,GAAK,CAACpG,MAAM,WAAW/F,KAAM2Q,EAAiBP,MAC/CtO,EAAAA,EAAAA,KAACqK,GAAK,CAACpG,MAAM,WAAWuG,UAAWmE,EAASzQ,KAAMA,KAAM2Q,EAAiBL,MACzExO,EAAAA,EAAAA,KAACqK,GAAK,CAACpG,MAAM,eAAeuG,UAAWoE,EAAY1Q,KAAMA,KAAM2Q,EAAiBJ,MAChFzO,EAAAA,EAAAA,KAACqK,GAAK,CAACpG,MAAM,WAAW/F,KAAM2Q,EAAiBH,GAAe,UAIlE,CC9Ge,SAASoB,KACvB,IAAD7Q,EACOd,EAAOP,IACF4B,GAAaC,EAAAA,EAAAA,MAAbD,SACLuQ,EAAW,SAACC,EAAcC,GAAsB,IAAAC,EAAA,OAA8B,QAAzBA,GAAAC,EAAAA,EAAAA,IAAUH,EAAMxQ,UAAS,IAAA0Q,OAAA,EAAzBA,EAA2BzG,OAAOwG,KAAU,EAAG,EAE1G,SAASG,EAAeC,EAA8BL,EAAcM,GACnE,IAADtR,EACC,OAAOgB,EAAAA,EAAAA,KAACuQ,EAAAA,GAAK,CAACP,KAAMA,EAAMM,QACf,QAAVtR,EAACb,EAAKD,YAAI,IAAAc,GAATA,EAAWR,KACG,MAAd6R,GAAsBvR,EAAcX,EACd,iBAAdkS,EAAyBA,EAAa,CAACA,EAAW,GAAIN,EAASC,EAAMK,EAAW,MACpFC,GAAUtQ,EAAAA,EAAAA,KAACwE,EAAgB,KAHbxE,EAAAA,EAAAA,KAACwQ,EAAAA,GAAQ,CAAC9N,GAAG,WAMlC,CAEA,OAAOH,EAAAA,EAAAA,MAAA,OAAKtC,UAAU,OAAMG,SAAA,EAC3BJ,EAAAA,EAAAA,KAACT,EAAW,IAEXpB,EAAKkH,YAAarF,EAAAA,EAAAA,KAACiD,EAAAA,EAAO,IAC1B9E,EAAKwJ,SAAW,uCAChBxJ,EAAKsS,YACLlO,EAAAA,EAAAA,MAACmO,EAAAA,GAAM,CAAAtQ,SAAA,EACNJ,EAAAA,EAAAA,KAACuQ,EAAAA,GAAK,CAACP,KAAK,QAAQM,QAAmB,QAAVrR,EAACd,EAAKD,YAAI,IAAAe,GAATA,EAAWT,MAAsBwB,EAAAA,EAAAA,KAACwQ,EAAAA,GAAQ,CAAC9N,GAAG,OAA5B1C,EAAAA,EAAAA,KAACyE,EAAQ,MACxD2L,EAAe,KAAM,KAAKpQ,EAAAA,EAAAA,KAACiH,EAAS,KACpCmJ,EAAe,CAAC,WAAY,SAAU,eAAepQ,EAAAA,EAAAA,KAACoN,GAAO,KAC7DgD,EAAe,KAAM,KAAKpQ,EAAAA,EAAAA,KAACuE,EAAY,UAI5C","sources":["../node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","api/user.ts","api/operations.ts","utils/scrollToTop.tsx","webpack://metrika/./src/components/HeaderBack/styles.module.css?464d","components/HeaderBack/index.tsx","utils/classNames.ts","webpack://metrika/./src/components/Header/styles.module.css?07e3","utils/fetchPost.ts","api/auth.ts","components/Header/index.tsx","webpack://metrika/./src/components/Layout/styles.module.css?6939","components/Layout/index.tsx","utils/useTtile.ts","pages/NotFoundPage/index.tsx","pages/NoPermissionPage/index.tsx","webpack://metrika/./src/pages/AuthPage/styles.module.css?7367","pages/AuthPage/index.tsx","api/app.ts","webpack://metrika/./src/components/Popup/styles.module.css?f1d6","components/Popup/index.tsx","pages/IndexPage/index.tsx","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://metrika/./src/pages/AppPage/styles.module.css?7058","utils/nums.ts","utils/dates.ts","api/stats.ts","webpack://metrika/./src/components/Chart/styles.module.css?658e","components/Chart/index.tsx","pages/AppPage/index.tsx","App.tsx"],"sourcesContent":["import _typeof from \"./typeof.js\";\nexport default function _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  _regeneratorRuntime = function _regeneratorRuntime() {\n    return e;\n  };\n  var t,\n    e = {},\n    r = Object.prototype,\n    n = r.hasOwnProperty,\n    o = Object.defineProperty || function (t, e, r) {\n      t[e] = r.value;\n    },\n    i = \"function\" == typeof Symbol ? Symbol : {},\n    a = i.iterator || \"@@iterator\",\n    c = i.asyncIterator || \"@@asyncIterator\",\n    u = i.toStringTag || \"@@toStringTag\";\n  function define(t, e, r) {\n    return Object.defineProperty(t, e, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), t[e];\n  }\n  try {\n    define({}, \"\");\n  } catch (t) {\n    define = function define(t, e, r) {\n      return t[e] = r;\n    };\n  }\n  function wrap(t, e, r, n) {\n    var i = e && e.prototype instanceof Generator ? e : Generator,\n      a = Object.create(i.prototype),\n      c = new Context(n || []);\n    return o(a, \"_invoke\", {\n      value: makeInvokeMethod(t, r, c)\n    }), a;\n  }\n  function tryCatch(t, e, r) {\n    try {\n      return {\n        type: \"normal\",\n        arg: t.call(e, r)\n      };\n    } catch (t) {\n      return {\n        type: \"throw\",\n        arg: t\n      };\n    }\n  }\n  e.wrap = wrap;\n  var h = \"suspendedStart\",\n    l = \"suspendedYield\",\n    f = \"executing\",\n    s = \"completed\",\n    y = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var p = {};\n  define(p, a, function () {\n    return this;\n  });\n  var d = Object.getPrototypeOf,\n    v = d && d(d(values([])));\n  v && v !== r && n.call(v, a) && (p = v);\n  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);\n  function defineIteratorMethods(t) {\n    [\"next\", \"throw\", \"return\"].forEach(function (e) {\n      define(t, e, function (t) {\n        return this._invoke(e, t);\n      });\n    });\n  }\n  function AsyncIterator(t, e) {\n    function invoke(r, o, i, a) {\n      var c = tryCatch(t[r], t, o);\n      if (\"throw\" !== c.type) {\n        var u = c.arg,\n          h = u.value;\n        return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) {\n          invoke(\"next\", t, i, a);\n        }, function (t) {\n          invoke(\"throw\", t, i, a);\n        }) : e.resolve(h).then(function (t) {\n          u.value = t, i(u);\n        }, function (t) {\n          return invoke(\"throw\", t, i, a);\n        });\n      }\n      a(c.arg);\n    }\n    var r;\n    o(this, \"_invoke\", {\n      value: function value(t, n) {\n        function callInvokeWithMethodAndArg() {\n          return new e(function (e, r) {\n            invoke(t, n, e, r);\n          });\n        }\n        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(e, r, n) {\n    var o = h;\n    return function (i, a) {\n      if (o === f) throw new Error(\"Generator is already running\");\n      if (o === s) {\n        if (\"throw\" === i) throw a;\n        return {\n          value: t,\n          done: !0\n        };\n      }\n      for (n.method = i, n.arg = a;;) {\n        var c = n.delegate;\n        if (c) {\n          var u = maybeInvokeDelegate(c, n);\n          if (u) {\n            if (u === y) continue;\n            return u;\n          }\n        }\n        if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n          if (o === h) throw o = s, n.arg;\n          n.dispatchException(n.arg);\n        } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n        o = f;\n        var p = tryCatch(e, r, n);\n        if (\"normal\" === p.type) {\n          if (o = n.done ? s : l, p.arg === y) continue;\n          return {\n            value: p.arg,\n            done: n.done\n          };\n        }\n        \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(e, r) {\n    var n = r.method,\n      o = e.iterator[n];\n    if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y;\n    var i = tryCatch(o, e.iterator, r.arg);\n    if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y;\n    var a = i.arg;\n    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y);\n  }\n  function pushTryEntry(t) {\n    var e = {\n      tryLoc: t[0]\n    };\n    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n  }\n  function resetTryEntry(t) {\n    var e = t.completion || {};\n    e.type = \"normal\", delete e.arg, t.completion = e;\n  }\n  function Context(t) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], t.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(e) {\n    if (e || \"\" === e) {\n      var r = e[a];\n      if (r) return r.call(e);\n      if (\"function\" == typeof e.next) return e;\n      if (!isNaN(e.length)) {\n        var o = -1,\n          i = function next() {\n            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;\n            return next.value = t, next.done = !0, next;\n          };\n        return i.next = i;\n      }\n    }\n    throw new TypeError(_typeof(e) + \" is not iterable\");\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), o(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) {\n    var e = \"function\" == typeof t && t.constructor;\n    return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name));\n  }, e.mark = function (t) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t;\n  }, e.awrap = function (t) {\n    return {\n      __await: t\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {\n    return this;\n  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {\n    void 0 === i && (i = Promise);\n    var a = new AsyncIterator(wrap(t, r, n, o), i);\n    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {\n      return t.done ? t.value : a.next();\n    });\n  }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () {\n    return this;\n  }), define(g, \"toString\", function () {\n    return \"[object Generator]\";\n  }), e.keys = function (t) {\n    var e = Object(t),\n      r = [];\n    for (var n in e) r.push(n);\n    return r.reverse(), function next() {\n      for (; r.length;) {\n        var t = r.pop();\n        if (t in e) return next.value = t, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, e.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(e) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var t = this.tryEntries[0].completion;\n      if (\"throw\" === t.type) throw t.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(e) {\n      if (this.done) throw e;\n      var r = this;\n      function handle(n, o) {\n        return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o;\n      }\n      for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n        var i = this.tryEntries[o],\n          a = i.completion;\n        if (\"root\" === i.tryLoc) return handle(\"end\");\n        if (i.tryLoc <= this.prev) {\n          var c = n.call(i, \"catchLoc\"),\n            u = n.call(i, \"finallyLoc\");\n          if (c && u) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          } else if (c) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n          } else {\n            if (!u) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(t, e) {\n      for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n        var o = this.tryEntries[r];\n        if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n          var i = o;\n          break;\n        }\n      }\n      i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);\n      var a = i ? i.completion : {};\n      return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a);\n    },\n    complete: function complete(t, e) {\n      if (\"throw\" === t.type) throw t.arg;\n      return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y;\n    },\n    finish: function finish(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;\n      }\n    },\n    \"catch\": function _catch(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.tryLoc === t) {\n          var n = r.completion;\n          if (\"throw\" === n.type) {\n            var o = n.arg;\n            resetTryEntry(r);\n          }\n          return o;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(e, r, n) {\n      return this.delegate = {\n        iterator: values(e),\n        resultName: r,\n        nextLoc: n\n      }, \"next\" === this.method && (this.arg = t), y;\n    }\n  }, e;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}","import { useQuery } from \"react-query\";\nimport { ResponseMsg } from \"./dataTypes\";\n\nexport default function useUser()\n{\n\treturn useQuery(\"user\", getUser);\n}\n\nexport interface User\n{\n\tauth: boolean,\n\tid: number,\n\tname: string,\n\tlogin: string,\n\toperations: string[],\n}\n\nasync function getUser(): Promise<User>\n{\n\tconst res = await fetch(\"/api/user\");\n\tconst data = await res.json();\n\n\tif (res.status == 401) return { auth: false, id: -1, login: \"\", name: \"\", operations: [] };\n\tif (!res.ok) throw (data as ResponseMsg).msg;\n\n\tconst user = data as User;\n\tuser.auth = true;\n\treturn user;\n}\n","import { UseQueryResult } from \"react-query\";\nimport useUser, { User } from \"./user\";\n\nconst Operations = {\n\tview_app: \"view_app\",\n\tadd_app: \"add_app\",\n\tedit_app: \"edit_app\",\n}\n\nexport type Operation = AllOperations | [AllOperations, ObjectId];\ntype AllOperations = keyof typeof Operations;\ntype ObjectId = string | number;\n\nexport default function hasPermission(user: UseQueryResult<User, unknown>, operation: Operation)\n{\n\treturn !!(user.data?.auth && user.data?.operations.includes(operationToString(operation)));\n}\n\nexport function useHasPermission(operation: Operation)\n{\n\tconst user = useUser();\n\treturn !!(user.data?.auth && user.data?.operations.includes(operationToString(operation)));\n}\n\nfunction operationToString(operation: Operation)\n{\n\tif (typeof operation == \"string\")\n\t\treturn operation\n\treturn operation[0] + \"-\" + operation[1]\n}\n","import { useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nexport default function ScrollToTop()\n{\n\tconst { pathname } = useLocation();\n\n\tuseEffect(() =>\n\t{\n\t\twindow.scrollTo(0, 0);\n\t}, [pathname]);\n\n\treturn null;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__4DGhY\"};","import { useNavigate } from \"react-router-dom\";\nimport styles from \"./styles.module.css\"\n\nexport default function HeaderBack()\n{\n\tconst navigate = useNavigate();\n\treturn (\n\t\t<div className={styles.root}>\n\t\t\t<button onClick={() => navigate(-1)}>\n\t\t\t\tНазад\n\t\t\t</button>\n\t\t</div>\n\t);\n}\n","export default function classNames(...names: (string | undefined | null | false)[])\n{\n\treturn names.filter(v => !!v).join(\" \");\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__Zvl9c\",\"home\":\"styles_home__o+-s7\",\"block\":\"styles_block__a1SM7\"};","export default function fetchPost(input: RequestInfo | URL, body?: any)\n{\n\treturn fetch(input, {\n\t\tmethod: \"POST\",\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\"\n\t\t},\n\t\tbody: body === undefined ? null : JSON.stringify(body),\n\t});\n}\n","import { useMutation, useQueryClient } from \"react-query\";\nimport fetchPost from \"../utils/fetchPost\"\nimport { ResponseMsg } from \"./dataTypes\";\nimport { User } from \"./user\";\n\nexport function useMutationAuth(onError?: (msg: string) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: postAuth,\n\t\tonSuccess: (data) =>\n\t\t{\n\t\t\tqueryClient.setQueryData(\"user\", () => data);\n\t\t},\n\t\tonError,\n\t});\n\treturn mutation;\n}\n\nasync function postAuth(authData: AuthData)\n{\n\tconst res = await fetchPost(\"/api/auth\", authData);\n\tconst data = await res.json();\n\tif (!res.ok) throw (data as ResponseMsg).msg;\n\n\tconst user = data as User;\n\tuser.auth = true;\n\treturn user;\n}\n\nexport async function postLogout()\n{\n\tawait fetchPost(\"/api/logout\");\n}\n\ninterface AuthData\n{\n\tlogin: string,\n\tpassword: string,\n}\n\nexport function useMutationLogout()\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: postLogout,\n\t\tonSuccess: () =>\n\t\t{\n\t\t\tqueryClient.invalidateQueries(\"user\");\n\t\t}\n\t});\n\treturn mutation;\n}\n","import { Link, useLocation, useNavigate } from \"react-router-dom\";\nimport styles from \"./styles.module.css\"\nimport logo from \"./logo64.png\"\nimport { useMutationLogout } from \"../../api/auth\";\nimport useUser from \"../../api/user\";\nimport Spinner from \"../Spinner\";\n\nexport default function Header({ backLink }: HeaderProps)\n{\n\tconst location = useLocation();\n\tconst navigate = useNavigate();\n\tconst mutation = useMutationLogout();\n\tconst user = useUser();\n\n\treturn (\n\t\t<div className={styles.root}>\n\t\t\t<span className={styles.block}>\n\t\t\t\t<Link to=\"/\" className={styles.home}>\n\t\t\t\t\t<img src={logo} alt=\"На главную\" />\n\t\t\t\t</Link>\n\t\t\t\t{backLink && <Link to={backLink}><button>Назад</button></Link>}\n\t\t\t\t{location.pathname != \"/\" && !backLink && <button onClick={() => backLink ? navigate(backLink) : navigate(-1)}>Назад</button>}\n\t\t\t</span>\n\t\t\t<span className={styles.block}>\n\t\t\t\t<span>{user.data?.name}</span>\n\t\t\t\t<button onClick={() => mutation.mutate()} disabled={mutation.status != \"idle\"}>\n\t\t\t\t\tВыйти\n\t\t\t\t</button>\n\t\t\t</span>\n\t\t\t{mutation.status != \"idle\" && <Spinner />}\n\t\t</div>\n\t);\n}\n\ninterface HeaderProps\n{\n\tbackLink?: string,\n}","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__xvR2N\",\"body\":\"styles_body__S-p4X\",\"body_centered\":\"styles_body_centered__NzRPU\",\"body_centeredPage\":\"styles_body_centeredPage__R-EzO\"};","import classNames from \"../../utils/classNames\";\nimport Header from \"../Header\";\nimport styles from \"./styles.module.css\"\n\nexport default function Layout({ children, className, backLink, centered = false, centeredPage = false, height100 = false, gap = 0, header }: LayoutProps)\n{\n\tif (header === undefined) header = <Header backLink={backLink} />\n\t\n\treturn (\n\t\t<div className={styles.root} style={{ maxHeight: height100 ? \"100dvh\" : \"\" }}>\n\t\t\t{header || <div></div>}\n\t\t\t<div\n\t\t\t\tclassName={classNames(\n\t\t\t\t\tstyles.body, className,\n\t\t\t\t\tcentered && styles.body_centered,\n\t\t\t\t\tcenteredPage && styles.body_centeredPage,\n\t\t\t\t)}\n\t\t\t\tstyle={{ gap, maxHeight: height100 ? \"100%\" : \"\" }}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\ninterface LayoutProps extends React.PropsWithChildren\n{\n\tbackLink?: string,\n\tcenteredPage?: boolean,\n\tcentered?: boolean,\n\theight100?: boolean,\n\tgap?: number | string,\n\tclassName?: string,\n\theader?: React.ReactNode,\n}\n","import { useEffect } from \"react\"\n\nexport function useTitle(title: string | (string | undefined | null | false)[], prefis = \"Metrika\")\n{\n\tuseEffect(() =>\n\t{\n\t\tconst prevTitle = document.title;\n\t\tconst t = typeof title != \"object\" ? [title] : title;\n\t\tdocument.title = [prefis, ...t].filter(v => !!v).join(\" | \");\n\t\treturn () => { document.title = prevTitle; }\n\t}, [title, prefis]);\n}\n","import HeaderBack from \"../../components/HeaderBack\";\nimport Layout from \"../../components/Layout\";\nimport { useTitle } from \"../../utils/useTtile\";\n\nexport default function NotFoundPage()\n{\n\tuseTitle(\"404\");\n\treturn (\n\t\t<Layout centered header={<HeaderBack />}>\n\t\t\tТакой страницы нет\n\t\t</Layout>\n\t);\n}\n","import HeaderBack from \"../../components/HeaderBack\";\nimport Layout from \"../../components/Layout\";\nimport { useTitle } from \"../../utils/useTtile\";\n\nexport default function NoPermissionPage()\n{\n\tuseTitle(\"403\");\n\treturn (\n\t\t<Layout centered header={<HeaderBack />}>\n\t\t\tУ вас недостатточно прав на просмотр этой страницы\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"styles_form__n7Rcu\"};","import { useRef, useState } from \"react\";\nimport styles from \"./styles.module.css\"\nimport { useMutationAuth } from \"../../api/auth\";\nimport Layout from \"../../components/Layout\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport Spinner from \"../../components/Spinner\";\n\nexport default function AuthPage()\n{\n\tuseTitle(\"Auth\");\n\tconst [error, setError] = useState(\"\");\n\tconst inp_login = useRef<HTMLInputElement>(null);\n\tconst inp_password = useRef<HTMLInputElement>(null);\n\tconst mutation = useMutationAuth(setError);\n\n\tfunction onSubmit()\n\t{\n\t\tconst login = inp_login.current?.value || \"\";\n\t\tconst password = inp_password.current?.value || \"\";\n\t\tmutation.mutate({ login, password });\n\t}\n\n\treturn (\n\t\t<Layout header={null} centered centeredPage gap=\"2em\">\n\t\t\t<h1>Metrika</h1>\n\t\t\t{error && <h3>{error}</h3>}\n\t\t\t{mutation.isLoading && <Spinner />}\n\t\t\t<form className={styles.form} onSubmit={e => { e.preventDefault(); onSubmit(); }}>\n\t\t\t\t<label>\n\t\t\t\t\t<div>Login</div>\n\t\t\t\t\t<input ref={inp_login} type=\"text\" name=\"login\" required />\n\t\t\t\t</label>\n\t\t\t\t<label>\n\t\t\t\t\t<div>Password</div>\n\t\t\t\t\t<input ref={inp_password} type=\"password\" name=\"password\" required />\n\t\t\t\t</label>\n\t\t\t\t<button type=\"submit\" disabled={mutation.status == \"loading\"}>Log in</button>\n\t\t\t</form>\n\t\t</Layout>\n\t);\n}\n","import { useMutation, useQuery, useQueryClient } from \"react-query\";\nimport { ResponseMsg } from \"./dataTypes\";\nimport fetchPost from \"../utils/fetchPost\";\n\nexport function useApps()\n{\n\treturn useQuery(\"apps\", getApps);\n}\nexport function useApp(appId: number | string)\n{\n\treturn useQuery([\"app\", `${appId}`], () => getApp(appId));\n}\nexport function useMutationNewApp()\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: postNewApp,\n\t\tonSuccess: (data) =>\n\t\t{\n\t\t\tif (queryClient.getQueryState(\"apps\")?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData(\"apps\", (apps?: App[]) => apps ? [...apps, data] : [data]);\n\t\t},\n\t});\n\treturn mutation;\n}\n\nexport interface App\n{\n\tid: number,\n\tcode: string,\n\tname: string,\n}\n\nexport interface NewAppData\n{\n\tname: string,\n}\n\nasync function getApps(): Promise<App[]>\n{\n\tconst res = await fetch(\"/api/apps\");\n\tconst data = await res.json();\n\tif (!res.ok) throw (data as ResponseMsg).msg;\n\n\treturn data as App[];\n}\n\nasync function getApp(appId: number | string): Promise<App>\n{\n\tconst res = await fetch(\"/api/app/\" + appId);\n\tconst data = await res.json();\n\tif (!res.ok) throw (data as ResponseMsg).msg;\n\n\treturn data as App;\n}\n\nasync function postNewApp(appData: NewAppData)\n{\n\tconst res = await fetchPost(\"/api/app\", appData);\n\tconst data = await res.json();\n\tif (!res.ok) throw (data as ResponseMsg).msg;\n\treturn data as App;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__O0923\",\"open\":\"styles_open__35Vcu\",\"popup\":\"styles_popup__L-0H0\",\"header\":\"styles_header__o87wG\",\"close\":\"styles_close__w0Yhz\",\"body\":\"styles_body__t75Nd\"};","import classNames from \"../../utils/classNames\";\nimport styles from \"./styles.module.css\"\n\nexport default function Popup({ children, open = false, close, title = \"\" }: CustomPopupProps)\n{\n\treturn (\n\t\t<div className={classNames(styles.root, open && styles.open)}>\n\t\t\t<div className={styles.popup}>\n\t\t\t\t{\n\t\t\t\t\t(title || close) &&\n\t\t\t\t\t<div className={styles.header}>\n\t\t\t\t\t\t<h3>{title}</h3>\n\t\t\t\t\t\t{close && <button className={styles.close} onClick={close}>✖</button>}\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t<div className={styles.body}>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport interface PopupProps\n{\n\topen?: boolean,\n\tclose?: () => void,\n}\n\ninterface CustomPopupProps extends PopupProps, React.PropsWithChildren\n{\n\ttitle?: string,\n}","import { useRef, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useHasPermission } from \"../../api/operations\";\nimport Layout from \"../../components/Layout\";\nimport { useApps, useMutationNewApp } from \"../../api/app\";\nimport Popup from \"../../components/Popup\";\nimport Spinner from \"../../components/Spinner\";\n\nexport default function IndexPage()\n{\n\tconst [addAppPopup, setAddAppPopup] = useState(false);\n\tconst inp_name = useRef<HTMLInputElement>(null);\n\tconst apps = useApps();\n\tconst addApp = useMutationNewApp();\n\n\treturn (\n\t\t<Layout centeredPage gap=\"1em\">\n\t\t\t{apps.isLoading && <Spinner />}\n\t\t\t{addApp.isLoading && <Spinner />}\n\t\t\t<h1>Your Apps</h1>\n\t\t\t{apps.isError && `${apps.error}`}\n\t\t\t{apps.data?.map(v => <Link to={\"/app/\" + v.id}>\n\t\t\t\t<div>{v.name}</div>\n\t\t\t\t<div>{v.code}</div>\n\t\t\t</Link>)}\n\t\t\t{useHasPermission(\"add_app\") && <button onClick={() => setAddAppPopup(true)}>Add app</button>}\n\t\t\t<Popup title=\"Add new App\" open={addAppPopup} close={() => setAddAppPopup(false)}>\n\t\t\t\t<form onSubmit={e =>\n\t\t\t\t{\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tif (!inp_name.current || inp_name.current.value == \"\") return;\n\t\t\t\t\taddApp.mutate({\n\t\t\t\t\t\tname: inp_name.current.value,\n\t\t\t\t\t}, {\n\t\t\t\t\t\tonSuccess: () => setAddAppPopup(false),\n\t\t\t\t\t});\n\t\t\t\t}}>\n\t\t\t\t\t{addApp.isError && `${addApp.error}`}\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<div>Name</div>\n\t\t\t\t\t\t<input type=\"text\" ref={inp_name} />\n\t\t\t\t\t</label>\n\t\t\t\t\t<button type=\"submit\">Submit</button>\n\t\t\t\t</form>\n\t\t\t</Popup>\n\t\t</Layout>\n\t);\n}\n","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nexport default function _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__b8elC\",\"charts\":\"styles_charts__ok6uR\"};","export function padNum(num: number, len: number)\n{\n\treturn `${num}`.padStart(len, \"0\");\n}\n\nexport function countWord(num: number, one: string, two: string, five: string)\n{\n\tconst numS = `${num}`;\n\tif (numS.at(-1) == \"1\" && numS.at(-2) != \"1\")\n\t\treturn one;\n\tif ([\"2\", \"3\", \"4\"].includes(numS.at(-1) || \"\") && numS.at(-2) != \"1\")\n\t\treturn two;\n\treturn five;\n}\n","import { padNum, countWord } from \"./nums\";\n\nexport function dateToString(date: Date | null | undefined)\n{\n\tif (!date) return \"\";\n\treturn `${padNum(date.getDate(), 2)}.${padNum(date.getMonth() + 1, 2)}.${date.getFullYear()}`;\n}\n\nexport function dateToInptValue(date: Date | null | undefined)\n{\n\tif (!date) return \"\";\n\treturn `${date.getFullYear()}-${padNum(date.getMonth() + 1, 2)}-${padNum(date.getDate(), 2)}`;\n}\n\nexport function timeToString(date: Date, seconds = false)\n{\n\tlet dateStr = `${padNum(date.getHours(), 2)}:${padNum(date.getMinutes(), 2)}`;\n\tif (seconds) return dateStr + `:${padNum(date.getSeconds(), 2)}`;\n\treturn dateStr;\n}\n\nexport function datetimeToString(date: Date, seconds = false)\n{\n\treturn dateToString(date) + \" \" + timeToString(date, seconds);\n}\n\nexport function datetimeToISO(date: Date, seconds = false)\n{\n\treturn dateToInptValue(date) + \"T\" + timeToString(date, seconds);\n}\n\nexport function relativeDate(date: Date, nowBreak: \"second\" | \"minute\" | \"hour\" | \"day\" = \"second\")\n{\n\tconst now = new Date();\n\n\tconst delta = date.getTime() - now.getTime();\n\tlet d = Math.floor(Math.abs(delta) / 1000);\n\n\tconst dY = Math.floor(d / (60 * 60 * 24 * 30 * 12)); d -= dY * 60 * 60 * 24 * 30 * 12;\n\tconst dM = Math.floor(d / (60 * 60 * 24 * 30)); d -= dM * 60 * 60 * 24 * 30;\n\tconst dD = Math.floor(d / (60 * 60 * 24)); d -= dD * 60 * 60 * 24;\n\tconst dh = Math.floor(d / (60 * 60)) % 24; d -= dh * 60 * 60;\n\tconst dm = Math.floor(d / 60) % 60; d -= dm * 60;\n\tconst ds = d % 60;\n\n\tfunction getChange(): [string | number, [string, string, string]]\n\t{\n\t\tconst sv = (v: string) => [v, [\"\", \"\", \"\"]] as [string, [string, string, string]];\n\t\tif (dY != 0) return [dY, [\"год\", \"года\", \"лет\"]];\n\t\tif (dM != 0) return [dM, [\"месяц\", \"месяца\", \"месяцов\"]];\n\t\tif (dD != 0) return [dD, [\"день\", \"дня\", \"дней\"]];\n\t\tif (nowBreak == \"day\") return sv(\"Сегодня\");\n\t\tif (dh != 0) return [dh, [\"час\", \"часа\", \"часов\"]];\n\t\tif (nowBreak == \"hour\") return sv(\"Сейчас\");\n\t\tif (dm != 0) return [dm, [\"минута\", \"минуты\", \"минут\"]];\n\t\tif (nowBreak == \"minute\") return sv(\"Сейчас\");\n\t\tif (ds != 0) return [ds, [\"секунда\", \"секунды\", \"секунд\"]];\n\t\treturn sv(\"Только что\");\n\t}\n\tlet [vChange, vNames] = getChange();\n\n\tif (typeof vChange == \"string\")\n\t\treturn vChange;\n\n\tlet relative = `${countWord(vChange, ...vNames)}`\n\tif (Math.abs(vChange) > 1) relative = Math.abs(vChange) + \" \" + relative;\n\tif (delta > 0) relative = \"Через \" + relative;\n\telse relative += \" назад\";\n\n\treturn relative;\n}\n\nexport function secondsPast(date: Date)\n{\n\tconst now = new Date();\n\treturn (now.getTime() - date.getTime()) / 1000;\n}\n","import { useQuery } from \"react-query\";\nimport { ResponseMsg } from \"./dataTypes\";\nimport { datetimeToISO } from \"../utils/dates\";\n\nexport function useStats(appId: number | string, params: StatsParams)\n{\n\treturn useQuery([\"stats\", `${appId}`, params], () => getStats(appId, params));\n}\n\nexport function useStatsVisitors(appId: number | string, params: VisitorsParams)\n{\n\treturn useQuery([\"statsVisitors\", `${appId}`, params], () => getVisitors(appId, params));\n}\n\nexport interface Stats\n{\n\tlabel: string,\n\tvalues: StatsItem[],\n}\n\nexport interface StatsItem\n{\n\tcount: number,\n\tdate: string,\n}\n\nexport interface StatsParams\n{\n\tgroup: \"minute\" | \"hour\" | \"day\",\n\ttype: \"visitors\" | \"visits\" | \"requests\" | \"fromTag\",\n\tstart: Date,\n\tend: Date,\n\tnewVisitors: boolean,\n}\n\nexport interface VisitorsParams\n{\n\tstart: Date,\n\tend: Date,\n\tnewVisitors: boolean,\n}\n\nasync function getStats(appId: number | string, params: StatsParams): Promise<Stats[]>\n{\n\tconst res = await fetch(\"/api/stats/\" + appId +\n\t\t`?group=${params.group}&type=${params.type}&start=${datetimeToISO(params.start)}&end=${datetimeToISO(params.end)}&new=${params.newVisitors ? 1 : 0}`);\n\tconst data = await res.json();\n\tif (!res.ok) throw (data as ResponseMsg).msg;\n\n\treturn data as Stats[];\n}\n\nasync function getVisitors(appId: number | string, params: VisitorsParams): Promise<number>\n{\n\tconst res = await fetch(\"/api/stats/visitors/\" + appId + `?start=${datetimeToISO(params.start)}&end=${datetimeToISO(params.end)}&new=${params.newVisitors ? 1 : 0}`);\n\tconst data = await res.json();\n\tif (!res.ok) throw (data as ResponseMsg).msg;\n\n\treturn data as number;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__8HKQN\",\"desc\":\"styles_desc__yBoR9\"};","import { useState } from \"react\";\nimport styles from \"./styles.module.css\"\n\nexport default function Chart({ data, title, valuesSum }: ChartProps)\n{\n\tconst [cursor, setCursor] = useState(-1);\n\tconst empty = data.length == 0;\n\tdata.forEach(v =>\n\t{\n\t\tif (v.values.length == 1) v.values = [v.values[0], v.values[0]];\n\t});\n\tconst maxV = data.reduce((p, v) => Math.max(p, v.values.reduce((p, v) => Math.max(p, v.value), 0)), 0);\n\tconst width = 300;\n\tconst height = 100;\n\tconst padding = 10;\n\tconst colors = [\n\t\t{ fill: \"rgba(139, 255, 84, 0.2)\", stroke: \"rgb(139, 197, 84)\" },\n\t\t{ fill: \"rgba(253, 204, 53, 0.2)\", stroke: \"rgb(253, 204, 53)\" },\n\t\t{ fill: \"rgba(253, 90, 62, 0.2)\", stroke: \"rgb(253, 90, 62)\" },\n\t\t{ fill: \"rgba(119, 182, 231, 0.2)\", stroke: \"rgb(119, 182, 231)\" },\n\t\t{ fill: \"rgba(169, 85, 184, 0.2)\", stroke: \"rgb(169, 85, 184)\" },\n\n\t\t{ fill: \"rgba(92, 170, 56, 0.2)\", stroke: \"rgb(92, 170, 56)\" },\n\t\t{ fill: \"rgba(168, 136, 35, 0.2)\", stroke: \"rgb(168, 136, 35)\" },\n\t\t{ fill: \"rgba(168, 60, 41, 0.2)\", stroke: \"rgb(168, 60, 41)\" },\n\t\t{ fill: \"rgba(79, 121, 154, 0.2)\", stroke: \"rgb(79, 121, 154)\" },\n\t\t{ fill: \"rgba(112, 56, 122, 0.2)\", stroke: \"rgb(112, 56, 122)\" },\n\t]\n\tconst dataLength = data[0]?.values?.length || 0;\n\tconst step = width / (dataLength - 1);\n\tconst indexToX = (i: number) => Math.round(i * step + padding);\n\tconst dataToPoint = (v: number, i: number) => ({\n\t\tx: indexToX(i),\n\t\tx1: indexToX(Math.max(i - 0.5, 0)),\n\t\tx2: indexToX(Math.min(i + 0.5, dataLength - 1)),\n\t\ty: Math.round((1 - v / maxV) * height + padding)\n\t})\n\tconst lineTop = { y: dataToPoint(maxV, 0).y, label: maxV };\n\tconst lineHalfV = maxV == 1 ? 0.5 : Math.floor(maxV / 2);\n\tconst lineHalf = { y: dataToPoint(lineHalfV, 0).y, label: lineHalfV };\n\treturn <div className={styles.root}>\n\t\t<h3>{title}</h3>\n\t\t<svg\n\t\t\twidth={width + padding * 2}\n\t\t\theight={height + padding * 2}\n\t\t\tonMouseMove={e =>\n\t\t\t{\n\t\t\t\tconst x = e.nativeEvent.offsetX - padding;\n\t\t\t\tsetCursor(Math.min(Math.max(Math.round(x / step), 0), dataLength - 1));\n\t\t\t}}\n\t\t\tonMouseLeave={() => setCursor(-1)}\n\t\t>\n\t\t\t{empty ? <>\n\t\t\t\t<text x={width / 2} y={height / 2}>No data</text>\n\t\t\t</> : <>\n\t\t\t\t<line x1={0} x2={width + padding * 2} y1={lineTop.y} y2={lineTop.y} strokeWidth={1} stroke=\"#00000040\" />\n\t\t\t\t<text x={2} y={lineTop.y + 12} fontSize={12} >{lineTop.label}</text>\n\t\t\t\t<line x1={0} x2={width + padding * 2} y1={lineHalf.y} y2={lineHalf.y} strokeWidth={1} stroke=\"#00000040\" />\n\t\t\t\t<text x={2} y={lineHalf.y + 12} fontSize={12} >{lineHalf.label}</text>\n\t\t\t\t{data.map((v, i) =>\n\t\t\t\t{\n\t\t\t\t\tconst points = v.values.map((v, i) => dataToPoint(v.value, i));\n\t\t\t\t\tconst color = colors[i] || colors[0];\n\t\t\t\t\treturn <path\n\t\t\t\t\t\tfill={color.fill}\n\t\t\t\t\t\tstroke={color.stroke}\n\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t// d={`M${points.map(p => `${p.x},${p.y}`).join(\" L\")} L${width + padding},${height + padding * 2} L${padding},${height + padding * 2} L${points[0].x},${points[0].y}`}\n\t\t\t\t\t\td={`M${points.map(p => `${p.x1},${p.y}L${p.x2},${p.y}`).join(\" L\")} L${width + padding},${height + padding * 2} L${padding},${height + padding * 2} L${points[0].x},${points[0].y}`}\n\t\t\t\t\t/>\n\t\t\t\t})}\n\n\t\t\t\t{/* {points.map((p, i) => <circle key={i} cx={p.x} cy={p.y} r={2} fill=\"#0000ff\" />)} */}\n\t\t\t\t{cursor >= 0 && <line x1={cursor * step + padding} x2={cursor * step + padding} y1={0} y2={height + padding * 2} strokeWidth={1} stroke=\"gray\" />}\n\t\t\t</>}\n\t\t</svg>\n\t\t{data.map(v =>\n\t\t{\n\t\t\tconst sum = v.values.reduce((p, v) => p + v.value, 0);\n\t\t\treturn <div className={styles.desc}>\n\t\t\t\t<div>{v.label}</div>\n\t\t\t\t<div>{cursor < 0 ? v.avarege && (Math.round(sum / dataLength * 10) / 10 || 0) : v.values[cursor]?.label}</div>\n\t\t\t\t<div>{cursor < 0 ? valuesSum || sum || 0 : v.values[cursor]?.value}</div>\n\t\t\t</div>\n\t\t})}\n\t</div>\n}\n\ninterface ChartProps\n{\n\tdata: ChartData[],\n\ttitle?: string,\n\tvaluesSum?: number,\n}\n\nexport interface ChartData\n{\n\tlabel: string,\n\tvalues: ChartItem[],\n\tavarege: boolean,\n}\nexport interface ChartItem\n{\n\tvalue: number,\n\tlabel: string,\n}\n\n","import { useParams } from \"react-router-dom\";\nimport styles from \"./styles.module.css\"\nimport Layout from \"../../components/Layout\";\nimport { useApp } from \"../../api/app\";\nimport Spinner from \"../../components/Spinner\";\nimport { useStats, Stats, StatsParams, useStatsVisitors } from \"../../api/stats\";\nimport Chart, { ChartData, ChartItem } from \"../../components/Chart\";\nimport { useState } from \"react\";\nimport { UseQueryResult } from \"react-query\";\nimport { dateToInptValue, datetimeToString } from \"../../utils/dates\";\nimport { useTitle } from \"../../utils/useTtile\";\n\nexport default function AppPage()\n{\n\tconst [startDate, setStartDate] = useState(() =>\n\t{\n\t\tconst date = new Date();\n\t\tdate.setHours(0, 0, 0, 0);\n\t\tdate.setDate(date.getDate() - 1);\n\t\treturn date;\n\t});\n\tconst [endDate, setEndDate] = useState(() =>\n\t{\n\t\tconst date = new Date();\n\t\tdate.setHours(0, 0, 0, 0);\n\t\treturn date;\n\t});\n\tconst [group, setGroup] = useState<StatsParams[\"group\"]>(\"hour\");\n\n\tconst appId = useParams()[\"appId\"]!;\n\tconst app = useApp(appId);\n\tuseTitle([app.data?.name || \"App\"]);\n\tconst statsParams = { group, type: \"requests\", start: startDate, end: (() => { const date = new Date(endDate); date.setDate(date.getDate() + 1); return date })() } as StatsParams;\n\tconst stats_requests = useStats(appId, { ...statsParams, type: \"requests\" });\n\tconst stats_visitors = useStats(appId, { ...statsParams, type: \"visitors\" });\n\tconst stats_visitorsNew = useStats(appId, { ...statsParams, type: \"visitors\", newVisitors: true });\n\tconst stats_fromTag = useStats(appId, { ...statsParams, type: \"fromTag\" });\n\tconst visitors = useStatsVisitors(appId, statsParams);\n\tconst visitorsNew = useStatsVisitors(appId, { ...statsParams, newVisitors: true });\n\n\tfunction processChartData(queryResult: UseQueryResult<Stats[], unknown>, avarege = true)\n\t{\n\t\tconst data = queryResult.data\n\t\treturn data?.map(v =>\n\t\t{\n\t\t\tconst data = v.values;\n\t\t\tconst _startDate = new Date(startDate);\n\t\t\tconst _endDate = new Date(endDate);\n\t\t\t_startDate.setHours(0);\n\t\t\t_endDate.setHours(24);\n\t\t\tconst now = new Date();\n\t\t\tnow.setMinutes(Math.floor(now.getMinutes() / 10 + 1) * 10, 0, 0);\n\t\t\tlet date = +_startDate;\n\t\t\tlet end = +(_endDate < now ? _endDate : now);\n\t\t\tconst dateAdd = {\n\t\t\t\tminute: 1000 * 60 * 10,\n\t\t\t\thour: 1000 * 60 * 60,\n\t\t\t\tday: 1000 * 60 * 60 * 24,\n\t\t\t}[group];\n\t\t\treturn {\n\t\t\t\tlabel: v.label,\n\t\t\t\tavarege: avarege,\n\t\t\t\tvalues: (data?.map(v => ({ value: v.count, label: v.date })) || []).reduce((r, v, i) =>\n\t\t\t\t{\n\t\t\t\t\tconst vdate = new Date(v.label);\n\t\t\t\t\tv.label = datetimeToString(vdate);\n\t\t\t\t\tconst vdaten = +vdate;\n\n\t\t\t\t\twhile (vdaten > date)\n\t\t\t\t\t{\n\t\t\t\t\t\tr.push({ value: 0, label: datetimeToString(new Date(date)) });\n\t\t\t\t\t\tdate += dateAdd;\n\t\t\t\t\t}\n\t\t\t\t\tdate += dateAdd;\n\t\t\t\t\tr.push(v);\n\t\t\t\t\twhile (i + 1 == data?.length && date < end)\n\t\t\t\t\t{\n\t\t\t\t\t\tr.push({ value: 0, label: datetimeToString(new Date(date)) });\n\t\t\t\t\t\tdate += dateAdd;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn r;\n\t\t\t\t}, [] as ChartItem[])\n\t\t\t} as ChartData;\n\t\t}) || [];\n\t}\n\n\treturn (\n\t\t<Layout centeredPage gap=\"1em\" backLink=\"/\">\n\t\t\t{(app.isLoading || stats_requests.isLoading || stats_visitors.isLoading || stats_fromTag.isLoading) && <Spinner />}\n\t\t\t{app.isError && `app: ${app.error}`}\n\t\t\t{stats_requests.isError && `stats_requests: ${stats_requests.error}`}\n\t\t\t{stats_visitors.isError && `stats_visitors: ${stats_visitors.error}`}\n\t\t\t{stats_fromTag.isError && `stats_visits: ${stats_fromTag.error}`}\n\t\t\t{visitors.isError && `visitors: ${visitors.error}`}\n\t\t\t<h1>{app.data?.name}</h1>\n\t\t\t<div>\n\t\t\t\t<span>Period: </span>\n\t\t\t\t<label>\n\t\t\t\t\t<span>Start: </span>\n\t\t\t\t\t<input type=\"date\" value={dateToInptValue(startDate)} onChange={e => setStartDate(v => e.target.valueAsDate || v)} />\n\t\t\t\t</label>\n\t\t\t\t<label>\n\t\t\t\t\t<span>End: </span>\n\t\t\t\t\t<input type=\"date\" value={dateToInptValue(endDate)} onChange={e => setEndDate(v => e.target.valueAsDate || v)} />\n\t\t\t\t</label>\n\t\t\t\t<label>\n\t\t\t\t\t<span>Group: </span>\n\t\t\t\t\t<select value={group} onChange={e => setGroup(e.target.value as any)}>\n\t\t\t\t\t\t<option value=\"minute\">10 Minutes</option>\n\t\t\t\t\t\t<option value=\"hour\">Hour</option>\n\t\t\t\t\t\t<option value=\"day\">Day</option>\n\t\t\t\t\t</select>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<div className={styles.charts}>\n\t\t\t\t<Chart title=\"Requests\" data={processChartData(stats_requests)} />\n\t\t\t\t<Chart title=\"Visitors\" valuesSum={visitors.data} data={processChartData(stats_visitors)} />\n\t\t\t\t<Chart title=\"New visitors\" valuesSum={visitorsNew.data} data={processChartData(stats_visitorsNew)} />\n\t\t\t\t<Chart title=\"From tag\" data={processChartData(stats_fromTag, false)} />\n\t\t\t</div>\n\t\t</Layout>\n\t);\n}\n","import { Navigate, Route, Routes, matchPath, useLocation, useParams } from \"react-router-dom\";\nimport useUser from \"./api/user\";\nimport hasPermission, { Operation } from \"./api/operations\";\nimport Spinner from \"./components/Spinner\";\nimport ScrollToTop from \"./utils/scrollToTop\";\n\nimport NotFoundPage from \"./pages/NotFoundPage\";\nimport NoPermissionPage from \"./pages/NoPermissionPage\";\nimport AuthPage from \"./pages/AuthPage\";\nimport IndexPage from \"./pages/IndexPage\";\nimport AppPage from \"./pages/AppPage\";\n\n\nexport default function App()\n{\n\tconst user = useUser();\n    const { pathname } = useLocation()\n\tconst getParam = (path: string, param: string | number) => matchPath(path, pathname)?.params[param] || \"\";\n\n\tfunction ProtectedRoute(permission: Operation | null, path: string, element: JSX.Element)\n\t{\n\t\treturn <Route path={path} element={\n\t\t\t!user.data?.auth ? <Navigate to=\"/auth\" /> : (\n\t\t\t\tpermission == null || hasPermission(user,\n\t\t\t\t\ttypeof permission == \"string\" ? permission : [permission[0], getParam(path, permission[1])]\n\t\t\t\t) ? element : <NoPermissionPage />\n\t\t\t)\n\t\t} />\n\t}\n\n\treturn <div className=\"root\">\n\t\t<ScrollToTop />\n\n\t\t{user.isLoading && <Spinner />}\n\t\t{user.isError && \"Ошибка\"}\n\t\t{user.isSuccess &&\n\t\t\t<Routes>\n\t\t\t\t<Route path=\"/auth\" element={!user.data?.auth ? <AuthPage /> : <Navigate to=\"/\" />} />\n\t\t\t\t{ProtectedRoute(null, \"/\", <IndexPage />)}\n\t\t\t\t{ProtectedRoute([\"view_app\", \"appId\"], \"/app/:appId\", <AppPage />)}\n\t\t\t\t{ProtectedRoute(null, \"*\", <NotFoundPage />)}\n\t\t\t</Routes>\n\t\t}\n\t</div>\n}\n"],"names":["_regeneratorRuntime","e","t","r","Object","prototype","n","hasOwnProperty","o","defineProperty","value","i","Symbol","a","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","call","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","this","d","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","length","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","delegateYield","asyncGeneratorStep","gen","reject","_next","_throw","key","info","error","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","useUser","useQuery","getUser","_getUser","_callee","res","data","user","_context","fetch","json","status","auth","id","login","operations","ok","msg","hasPermission","operation","_user$data","_user$data2","includes","operationToString","useHasPermission","_user$data3","_user$data4","ScrollToTop","pathname","useLocation","useEffect","window","scrollTo","HeaderBack","navigate","useNavigate","_jsx","className","styles","root","children","onClick","classNames","_len","names","Array","_key","filter","join","fetchPost","input","body","headers","JSON","stringify","postAuth","_x","_postAuth","authData","postLogout","_postLogout","_callee2","_context2","Header","_ref","backLink","location","mutation","queryClient","useQueryClient","useMutation","mutationFn","onSuccess","invalidateQueries","useMutationLogout","_jsxs","block","Link","to","home","src","logo","alt","mutate","disabled","Spinner","Layout","_ref$centered","centered","_ref$centeredPage","centeredPage","_ref$height","height100","_ref$gap","gap","header","style","maxHeight","body_centered","body_centeredPage","useTitle","title","prefis","prevTitle","document","concat","_toConsumableArray","NotFoundPage","NoPermissionPage","AuthPage","_useState","useState","_useState2","_slicedToArray","setError","inp_login","useRef","inp_password","onError","setQueryData","useMutationAuth","isLoading","form","onSubmit","preventDefault","_inp_login$current","_inp_password$current","current","password","ref","required","useApp","appId","_getApp","getApp","getApps","_getApps","postNewApp","_x2","_postNewApp","_callee3","appData","_context3","Popup","_ref$open","open","close","_ref$title","popup","IndexPage","_apps$data","addAppPopup","setAddAppPopup","inp_name","apps","addApp","_queryClient$getQuery","getQueryState","useMutationNewApp","isError","map","code","ownKeys","getOwnPropertySymbols","getOwnPropertyDescriptor","_objectSpread2","obj","toPropertyKey","getOwnPropertyDescriptors","defineProperties","padNum","num","len","padStart","dateToInptValue","date","getFullYear","getMonth","getDate","timeToString","seconds","dateStr","getHours","getMinutes","getSeconds","datetimeToString","dateToString","datetimeToISO","useStats","params","_getStats","getStats","useStatsVisitors","_x3","_x4","_getVisitors","getVisitors","group","start","end","newVisitors","Chart","_data$","_data$$values","valuesSum","cursor","setCursor","empty","maxV","reduce","Math","max","width","height","padding","colors","fill","stroke","dataLength","step","indexToX","round","dataToPoint","x","x1","x2","min","lineTop","label","lineHalfV","floor","lineHalf","onMouseMove","nativeEvent","offsetX","onMouseLeave","_Fragment","y1","y2","strokeWidth","fontSize","points","color","_v$values$cursor","_v$values$cursor2","sum","desc","avarege","AppPage","_app$data","_app$data2","Date","setHours","setDate","startDate","setStartDate","_useState3","_useState4","endDate","setEndDate","_useState5","_useState6","setGroup","useParams","app","statsParams","stats_requests","_objectSpread","stats_visitors","stats_visitorsNew","stats_fromTag","visitors","visitorsNew","processChartData","queryResult","_startDate","_endDate","now","setMinutes","dateAdd","minute","hour","day","count","vdate","vdaten","onChange","target","valueAsDate","charts","App","getParam","path","param","_matchPath","matchPath","ProtectedRoute","permission","element","Route","Navigate","isSuccess","Routes"],"sourceRoot":""}